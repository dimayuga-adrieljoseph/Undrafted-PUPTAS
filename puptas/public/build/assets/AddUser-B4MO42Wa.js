import{p as U,r as w,i as k,d as l,o as i,b as y,u as q,Z as A,w as B,a as e,t as r,l as C,e as u,h as d,f as m,v as f,m as b,F as x,g as V,N as $}from"./app-BMHqDqk-.js";import{_ as E}from"./AppLayout-pF509T1r.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Sidebar-DKWTbHSH.js";import"./index-CzAWaHTX.js";import"./useGlobalLoading-DQXpkgxt.js";const P={class:"flex flex-col min-h-screen"},R={class:"user-types-section w-full max-w-4xl mx-auto p-8"},N={class:"text-center"},S={class:"grid grid-cols-3 gap-4"},j={class:"user-type-info"},z={class:"user-type-count"},F={class:"user-type-info"},I={class:"user-type-count"},O={class:"user-type-info"},T={class:"user-type-count"},Z={class:"user-type-info"},D={class:"user-type-count"},L={class:"user-type-info"},G={class:"user-type-count"},Y={class:"user-type-info"},h={class:"user-type-count"},H={class:"user-type-info"},J={class:"user-type-count"},K={class:"form-wrapper"},Q={class:"form-box"},W={class:"form-row"},X={class:"form-group half-width"},ss={key:0,class:"form-error"},es={class:"form-group half-width"},ts={key:0,class:"form-error"},os={class:"form-row"},as={class:"form-group half-width"},rs={class:"form-group half-width"},ls={class:"form-row"},is={class:"form-group half-width"},ns={key:0,class:"form-error"},ds={class:"form-group half-width"},us={class:"form-input-group"},ms={key:0,class:"form-error"},ps={class:"form-row"},fs={class:"form-group half-width"},vs={key:0,class:"form-error"},cs={class:"form-group half-width"},ws={key:0,class:"form-error"},ys={class:"form-row"},bs={class:"form-group full-width"},xs={key:0,class:"form-error"},gs={key:0,class:"form-row"},_s={class:"form-group full-width"},Us=["required"],ks=["value"],qs={key:0,class:"form-error"},As={__name:"AddUser",props:{programs:Array,totalUsers:Number,userCountsByRole:Object,roles:Object},setup(p){U(()=>{if(!document.querySelector('link[href*="font-awesome"]')){const n=document.createElement("link");n.rel="stylesheet",n.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css",document.head.appendChild(n)}});const t=w({firstname:"",lastname:"",middlename:"",extension_name:"",email:"",contactnumber:"",password:"",password_confirmation:"",role_id:"",program:""}),a=w({}),c=k(()=>t.value.role_id==="1"),g=()=>{c.value||(t.value.program="")},v=n=>{a.value[n]="",n==="email"&&t.value.email&&(/^[a-z0-9._%+\-]+@gmail\.com$/.test(t.value.email)||(a.value.email="Must be a valid Gmail address")),n==="contactnumber"&&t.value.contactnumber&&(/^\d{10}$/.test(t.value.contactnumber)||(a.value.contactnumber="Must be exactly 10 digits")),n==="password"&&t.value.password&&(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*?&.])[A-Za-z\d@$!%*?&.]{8,}/.test(t.value.password)||(a.value.password="Password must be at least 8 characters with uppercase, lowercase, number and special character")),n==="password_confirmation"&&t.value.password_confirmation&&t.value.password!==t.value.password_confirmation&&(a.value.password_confirmation="Passwords do not match")},_=()=>{Object.keys(t.value).forEach(s=>v(s)),!Object.values(a.value).some(s=>s!=="")&&$.post(route("add_user.store"),t.value,{onSuccess:()=>{alert("User added successfully!"),Object.keys(t.value).forEach(s=>{t.value[s]=""})},onError:s=>{a.value=s}})};return(n,s)=>(i(),l(x,null,[y(q(A),{title:"Add User"}),y(E,null,{default:B(()=>[e("div",P,[e("div",R,[e("div",N,[s[30]||(s[30]=e("h2",{class:"text-2xl font-bold mb-4 text-maroon"},"User Types",-1)),e("div",S,[e("div",j,[s[16]||(s[16]=e("div",{class:"user-type-icon"},[e("i",{class:"fas fa-users"})],-1)),s[17]||(s[17]=e("div",{class:"user-type-text"},"Total Users",-1)),e("div",z,r(p.totalUsers),1)]),e("div",F,[s[18]||(s[18]=e("div",{class:"user-type-icon"},[e("i",{class:"fas fa-user"})],-1)),s[19]||(s[19]=e("div",{class:"user-type-text"},"Applicants",-1)),e("div",I,r(p.userCountsByRole[1]||0),1)]),e("div",O,[s[20]||(s[20]=e("div",{class:"user-type-icon"},[e("i",{class:"fas fa-tools"})],-1)),s[21]||(s[21]=e("div",{class:"user-type-text"},"Admins",-1)),e("div",T,r(p.userCountsByRole[2]||0),1)]),e("div",Z,[s[22]||(s[22]=e("div",{class:"user-type-icon"},[e("i",{class:"fas fa-check"})],-1)),s[23]||(s[23]=e("div",{class:"user-type-text"},"Evaluator",-1)),e("div",D,r(p.userCountsByRole[3]||0),1)]),e("div",L,[s[24]||(s[24]=e("div",{class:"user-type-icon"},[e("i",{class:"fas fa-edit"})],-1)),s[25]||(s[25]=e("div",{class:"user-type-text"},"Interviewer",-1)),e("div",G,r(p.userCountsByRole[4]||0),1)]),e("div",Y,[s[26]||(s[26]=e("div",{class:"user-type-icon"},[e("i",{class:"fa-solid fa-suitcase-medical"})],-1)),s[27]||(s[27]=e("div",{class:"user-type-text"},"Medical Staff",-1)),e("div",h,r(p.userCountsByRole[5]||0),1)]),e("div",H,[s[28]||(s[28]=e("div",{class:"user-type-icon"},[e("i",{class:"fas fa-user"})],-1)),s[29]||(s[29]=e("div",{class:"user-type-text"},"Registrar",-1)),e("div",J,r(p.userCountsByRole[6]||0),1)])])])]),e("div",K,[e("div",Q,[s[45]||(s[45]=e("h2",{class:"form-title"},"Add New User",-1)),e("form",{onSubmit:C(_,["prevent"])},[e("div",W,[e("div",X,[s[31]||(s[31]=e("label",{for:"firstname"},[m("First Name "),e("span",{class:"required"},"*")],-1)),d(e("input",{id:"firstname","onUpdate:modelValue":s[0]||(s[0]=o=>t.value.firstname=o),onBlur:s[1]||(s[1]=o=>v("firstname")),class:"form-input",type:"text",required:"",autocomplete:"firstname"},null,544),[[f,t.value.firstname]]),a.value.firstname?(i(),l("span",ss,r(a.value.firstname),1)):u("",!0)]),e("div",es,[s[32]||(s[32]=e("label",{for:"lastname"},[m("Last Name "),e("span",{class:"required"},"*")],-1)),d(e("input",{id:"lastname","onUpdate:modelValue":s[2]||(s[2]=o=>t.value.lastname=o),onBlur:s[3]||(s[3]=o=>v("lastname")),class:"form-input",type:"text",required:"",autocomplete:"lastname"},null,544),[[f,t.value.lastname]]),a.value.lastname?(i(),l("span",ts,r(a.value.lastname),1)):u("",!0)])]),e("div",os,[e("div",as,[s[33]||(s[33]=e("label",{for:"middlename"},"Middle Name",-1)),d(e("input",{id:"middlename","onUpdate:modelValue":s[4]||(s[4]=o=>t.value.middlename=o),class:"form-input",type:"text",autocomplete:"middlename"},null,512),[[f,t.value.middlename]])]),e("div",rs,[s[34]||(s[34]=e("label",{for:"extension_name"},"Extension Name",-1)),d(e("input",{id:"extension_name","onUpdate:modelValue":s[5]||(s[5]=o=>t.value.extension_name=o),class:"form-input",type:"text",autocomplete:"extension_name"},null,512),[[f,t.value.extension_name]])])]),e("div",ls,[e("div",is,[s[35]||(s[35]=e("label",{for:"email"},[m("Email "),e("span",{class:"required"},"*")],-1)),d(e("input",{id:"email","onUpdate:modelValue":s[6]||(s[6]=o=>t.value.email=o),onBlur:s[7]||(s[7]=o=>v("email")),class:"form-input",type:"email",required:"",autocomplete:"email",pattern:"[a-z0-9._%+\\-]+@gmail\\.com$",title:"Must be a valid email format like example@gmail.com"},null,544),[[f,t.value.email]]),a.value.email?(i(),l("span",ns,r(a.value.email),1)):u("",!0)]),e("div",ds,[s[37]||(s[37]=e("label",{for:"contactnumber"},[m("Contact Number "),e("span",{class:"required"},"*")],-1)),e("div",us,[s[36]||(s[36]=e("div",{class:"input-prefix"},"+63",-1)),d(e("input",{id:"contactnumber","onUpdate:modelValue":s[8]||(s[8]=o=>t.value.contactnumber=o),onBlur:s[9]||(s[9]=o=>v("contactnumber")),class:"form-input",type:"text",required:"",autocomplete:"contactnumber",maxlength:"10",pattern:"\\d{10}",title:"Invalid contact number. Must be exactly 10 digits."},null,544),[[f,t.value.contactnumber]])]),a.value.contactnumber?(i(),l("span",ms,r(a.value.contactnumber),1)):u("",!0)])]),e("div",ps,[e("div",fs,[s[38]||(s[38]=e("label",{for:"password"},[m("Password "),e("span",{class:"required"},"*")],-1)),d(e("input",{id:"password","onUpdate:modelValue":s[10]||(s[10]=o=>t.value.password=o),onBlur:s[11]||(s[11]=o=>v("password")),class:"form-input",type:"password",required:"",autocomplete:"new-password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*?&.])[A-Za-z\\d@$!%*?&.]{8,}"},null,544),[[f,t.value.password]]),a.value.password?(i(),l("span",vs,r(a.value.password),1)):u("",!0)]),e("div",cs,[s[39]||(s[39]=e("label",{for:"password_confirmation"},[m("Confirm Password "),e("span",{class:"required"},"*")],-1)),d(e("input",{id:"password_confirmation","onUpdate:modelValue":s[12]||(s[12]=o=>t.value.password_confirmation=o),onBlur:s[13]||(s[13]=o=>v("password_confirmation")),class:"form-input",type:"password",required:"",autocomplete:"new-password"},null,544),[[f,t.value.password_confirmation]]),a.value.password_confirmation?(i(),l("span",ws,r(a.value.password_confirmation),1)):u("",!0)])]),e("div",ys,[e("div",bs,[s[41]||(s[41]=e("label",{for:"role_id"},[m("Select Your User Type "),e("span",{class:"required"},"*")],-1)),d(e("select",{id:"role_id","onUpdate:modelValue":s[14]||(s[14]=o=>t.value.role_id=o),onChange:g,class:"form-select",required:""},s[40]||(s[40]=[e("option",{value:"",disabled:""},"---- e.g. Applicant, Admin, Evaluator, Interviewer ----",-1),e("option",{value:"1"},"Applicant",-1),e("option",{value:"2"},"Admin",-1),e("option",{value:"3"},"Evaluator",-1),e("option",{value:"4"},"Interviewer",-1),e("option",{value:"5"},"Medical Staff",-1),e("option",{value:"6"},"Registrar",-1)]),544),[[b,t.value.role_id]]),a.value.role_id?(i(),l("span",xs,r(a.value.role_id),1)):u("",!0)])]),c.value?(i(),l("div",gs,[e("div",_s,[s[43]||(s[43]=e("label",{for:"program"},[m("Program "),e("span",{class:"required"},"*")],-1)),d(e("select",{id:"program","onUpdate:modelValue":s[15]||(s[15]=o=>t.value.program=o),class:"form-select",required:c.value},[s[42]||(s[42]=e("option",{value:"",disabled:""},"---- Select Program ----",-1)),(i(!0),l(x,null,V(p.programs,o=>(i(),l("option",{key:o.code,value:o.code},r(o.name),9,ks))),128))],8,Us),[[b,t.value.program]]),a.value.program?(i(),l("span",qs,r(a.value.program),1)):u("",!0)])])):u("",!0),s[44]||(s[44]=e("div",{class:"form-group mt-4 flex items-center justify-end"},[e("button",{type:"submit",class:"form-button ms-4"},[e("i",{class:"fa-solid fa-user-plus"}),m(" Add User ")])],-1))],32)])])])]),_:1})],64))}},Ps=M(As,[["__scopeId","data-v-efb524c7"]]);export{Ps as default};
