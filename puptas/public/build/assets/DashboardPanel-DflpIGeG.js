import{r as l,p as E,i as p,d as i,o as d,b as c,u as g,Z as j,w as m,a as t,F as f,g as F,t as o,n as B,q as L,e as M}from"./app-BScDaa5r.js";import{L as D}from"./index-BmiYyJBB.js";import{_ as U}from"./AppLayout-9pT27ufr.js";import{C as A,L as N,a as P,b as S,c as $,P as q,p as z,d as R,e as J}from"./chart-B9tDx7Vv.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Sidebar-BCBaA1aj.js";import"./index-Z-NJ8KKZ.js";import"./useGlobalLoading-BL86BHNh.js";const H={class:"relative z-10"},I={class:"py-8 px-4 md:px-6 lg:px-8 max-w-7xl mx-auto"},T={class:"flex flex-col md:flex-row gap-6"},X={class:"flex-1 bg-white dark:bg-gray-800 p-6 rounded-xl shadow relative"},O={class:"flex-1 bg-white dark:bg-gray-800 p-6 rounded-xl shadow"},Q={class:"min-w-full text-sm"},W={class:"divide-y divide-gray-200"},Z=["onClick"],G={class:"py-2 text-gray-800 dark:text-gray-100"},K={class:"py-2 text-gray-600 dark:text-gray-300"},Y={class:"py-2"},tt={key:0,class:"fixed top-0 right-0 w-full md:w-1/3 h-full bg-[#FBCB77] dark:bg-gray-900 p-6 z-50 shadow-xl transition duration-300 ease-in-out overflow-y-auto"},et={class:"text-gray-800 dark:text-gray-200 font-medium"},st={class:"text-gray-700 dark:text-gray-400"},at={class:"text-gray-700 dark:text-gray-400"},rt={class:"text-gray-700 dark:text-gray-400"},ot={class:"text-gray-700 dark:text-gray-400"},lt={__name:"DashboardPanel",setup(nt){A.register(N,P,S,$,q,z,R,J);const n=l([]),r=l(null),h=l(!0),y=l(""),x=l(""),u=s=>`${s.firstname||""} ${s.lastname||""}`.trim(),b={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Submitted",data:[5,20,35,50,70,90],borderColor:"#2563EB",backgroundColor:"rgba(37, 99, 235, 0.2)",tension:.4},{label:"Accepted",data:[2,10,15,25,40,60],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.2)",tension:.4}]},w=s=>{const e=(s||"").toLowerCase();return e==="accepted"?"bg-green-100 text-green-700":e==="pending"?"bg-yellow-100 text-yellow-700":e==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"};E(async()=>{try{const s=await fetch("/dashboard/users",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!s.ok)throw new Error("Failed to fetch users");n.value=await s.json()}catch(s){y.value=s.message}finally{h.value=!1}});const v=p(()=>{const s=x.value.trim().toLowerCase();return s?n.value.filter(e=>`${e.firstname||""} ${e.lastname||""}`.toLowerCase().includes(s)):n.value}),k=p(()=>x.value.trim()?v.value:n.value.slice(0,4)),C=s=>{r.value=s},_=()=>{r.value=null};return(s,e)=>(d(),i(f,null,[c(g(j),{title:"Dashboard"}),c(U,null,{default:m(()=>[t("div",H,[e[4]||(e[4]=t("div",{class:"flex justify-between items-center mb-6"},[t("h2",{class:"font-semibold text-xl text-gray-900 dark:text-gray-200 leading-tight"}," Dashboard "),t("div",{class:"flex items-center space-x-3 bg-white dark:bg-gray-900 px-4 py-2 rounded-full shadow"},[t("svg",{class:"w-8 h-8 stroke-[#9E122C]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 14c3.866 0 7 3.134 7 7H5c0-3.866 3.134-7 7-7z"}),t("circle",{cx:"12",cy:"7",r:"4"})]),t("div",{class:"text-sm"},[t("p",{class:"font-medium text-[#9E122C]"},"John Doe"),t("p",{class:"text-gray-600 dark:text-gray-300"},"Administrator")])])],-1)),e[5]||(e[5]=t("div",{class:"flex flex-wrap justify-center gap-[6rem] px-4 py-6"},[t("div",{class:"w-[180px] h-[180px] bg-[#FCECDF] rounded-2xl shadow-md shadow-red-500 flex flex-col items-center justify-center text-center hover:scale-105 transition-transform duration-300"},[t("div",{class:"bg-[#9E122C] p-4 rounded-full mb-3"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7h18M3 12h18M3 17h18"})])]),t("p",{class:"text-gray-700 text-base font-medium"},"Total Applications"),t("p",{class:"text-3xl font-bold text-gray-900"},"120")]),t("div",{class:"w-[180px] h-[180px] bg-[#FCECDF] rounded-2xl shadow-md shadow-red-500 flex flex-col items-center justify-center text-center hover:scale-105 transition-transform duration-300"},[t("div",{class:"bg-[#9E122C] p-4 rounded-full mb-3"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])]),t("p",{class:"text-gray-700 text-base font-medium"},"Accepted"),t("p",{class:"text-3xl font-bold text-gray-900"},"80")]),t("div",{class:"w-[180px] h-[180px] bg-[#FCECDF] rounded-2xl shadow-md shadow-red-500 flex flex-col items-center justify-center text-center hover:scale-105 transition-transform duration-300"},[t("div",{class:"bg-[#9E122C] p-4 rounded-full mb-3"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3"})])]),t("p",{class:"text-gray-700 text-base font-medium"},"Pending"),t("p",{class:"text-3xl font-bold text-gray-900"},"30")]),t("div",{class:"w-[180px] h-[180px] bg-[#FCECDF] rounded-2xl shadow-md shadow-red-500 flex flex-col items-center justify-center text-center hover:scale-105 transition-transform duration-300"},[t("div",{class:"bg-[#9E122C] p-4 rounded-full mb-3"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])]),t("p",{class:"text-gray-700 text-base font-medium"},"Rejected"),t("p",{class:"text-3xl font-bold text-gray-900"},"10")])],-1)),t("div",I,[t("div",T,[t("div",X,[e[0]||(e[0]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Applications Overview ",-1)),c(g(D),{"chart-data":b,class:"h-60 w-full"})]),t("div",O,[e[2]||(e[2]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Recent Applications",-1)),t("table",Q,[e[1]||(e[1]=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-gray-500 pb-2"},"Name"),t("th",{class:"text-left text-gray-500 pb-2"},"Course"),t("th",{class:"text-left text-gray-500 pb-2"},"Status")])],-1)),t("tbody",W,[(d(!0),i(f,null,F(k.value,a=>(d(),i("tr",{key:a.id,onClick:dt=>C(a),class:"cursor-pointer hover:bg-[#FBCB77]"},[t("td",G,o(u(a)),1),t("td",K,o(a.course||"â€”"),1),t("td",Y,[t("span",{class:B([w(a.status),"px-2 py-1 rounded text-xs font-semibold"])},o(a.status||"Unknown"),3)])],8,Z))),128))])])])]),c(L,{name:"slide-fade"},{default:m(()=>{var a;return[r.value?(d(),i("div",tt,[e[3]||(e[3]=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"},"User Information",-1)),t("p",et,"Name: "+o(u(r.value)),1),t("p",st,"Email: "+o(r.value.email),1),t("p",at,"Username: "+o(r.value.username),1),t("p",rt,"Phone: "+o(r.value.phone),1),t("p",ot,"Company: "+o((a=r.value.company)==null?void 0:a.name),1),t("button",{class:"mt-6 px-4 py-2 rounded bg-[#9E122C] text-white hover:bg-[#EE6A43] transition",onClick:_},"Close")])):M("",!0)]}),_:1})])])]),_:1})],64))}},yt=V(lt,[["__scopeId","data-v-fd660b6e"]]);export{yt as default};
