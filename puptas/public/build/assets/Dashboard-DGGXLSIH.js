import{r as l,k as U,j as y,d as c,o as u,b as n,u as p,Z as N,w as m,a as t,t as s,x as S,f as F,F as w,g as D,n as P,m as R,e as V}from"./app-Db2MWlaG.js";import{L as O}from"./index-CVPgBkLU.js";import{A as T}from"./AppLayout-WDgmIuId.js";import{C as q,L as z,a as I,b as J,c as X,P as H,p as Q,d as W,e as Z}from"./chart-B9tDx7Vv.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DhTmyBLd.js";const G={class:"flex flex-wrap justify-center gap-[6rem] px-4 py-4 max-w-full overflow-hidden"},K={class:"w-[180px] h-[180px] bg-red-200 border-4 border-white rounded-2xl shadow-xl flex flex-col items-center justify-center text-center hover:scale-105 transition-transform duration-300"},Y={class:"text-3xl font-bold text-gray-900"},tt={class:"w-[180px] h-[180px] bg-red-200 border-4 border-white rounded-2xl shadow-xl flex flex-col items-center justify-center text-center hover:scale-105 transition-transform duration-300"},et={class:"text-3xl font-bold text-gray-900"},st={class:"w-[180px] h-[180px] bg-red-200 border-4 border-white rounded-2xl shadow-xl flex flex-col items-center justify-center text-center hover:scale-105 transition-transform duration-300"},rt={class:"text-3xl font-bold text-gray-900"},ot={class:"w-[180px] h-[180px] bg-red-200 border-4 border-white rounded-2xl shadow-xl flex flex-col items-center justify-center text-center hover:scale-105 transition-transform duration-300"},at={class:"text-3xl font-bold text-gray-900"},lt={class:"py-8 px-4 md:px-6 lg:px-8 max-w-7xl mx-auto"},nt={class:"flex flex-col md:flex-row gap-6"},dt={class:"flex-1 bg-white dark:bg-gray-800 p-6 rounded-xl shadow border-2 border-red-400"},it={class:"flex-1 bg-white dark:bg-gray-800 p-6 rounded-xl shadow border-2 border-red-400"},ct={class:"flex items-center justify-between mb-4"},ut={class:"min-w-full text-sm"},xt={class:"divide-y divide-gray-200"},pt=["onClick"],mt={class:"py-2 text-gray-800 dark:text-gray-100"},ft={class:"py-2 text-gray-800 dark:text-gray-100"},gt={class:"py-2 text-gray-600 dark:text-gray-300"},ht={class:"py-2"},bt={key:0,class:"fixed top-0 right-0 w-full md:w-1/3 h-full bg-white dark:bg-gray-900 p-6 z-50 shadow-xl shadow-red-200 transition duration-300 ease-in-out overflow-y-auto"},yt={class:"text-gray-800 dark:text-gray-200 font-medium"},wt={class:"text-gray-700 dark:text-gray-400"},vt={class:"text-gray-700 dark:text-gray-400"},_t={class:"text-gray-700 dark:text-gray-400"},kt={class:"text-gray-700 dark:text-gray-400"},Ct={__name:"Dashboard",props:{user:Object,allUsers:Array,summary:{type:Object,default:()=>({total:0,accepted:0,pending:0,returned:0})}},setup(v){q.register(z,I,J,X,H,Q,W,Z);const d=v,i=l([]),a=l(null),_=l(!0),k=l(""),x=l(""),C={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Submitted",data:[5,20,35,50,70,90],borderColor:"#2563EB",backgroundColor:"rgba(37, 99, 235, 0.2)",tension:.4},{label:"Accepted",data:[2,10,15,25,40,60],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.2)",tension:.4}]},L=r=>{const e=(r||"").toLowerCase();return e==="accepted"?"bg-green-100 text-green-700":e==="pending"?"bg-yellow-100 text-yellow-700":e==="returned"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"},j=async()=>{try{const r=await fetch("/dashboard/users",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!r.ok)throw new Error("Failed to fetch users");i.value=await r.json()}catch(r){k.value=r.message}finally{_.value=!1}};U(()=>{j()});const E=y(()=>x.value.trim()?i.value.filter(r=>r.name?r.name.toLowerCase().includes(x.value.toLowerCase()):!1):i.value),M=y(()=>x.value.trim()?E.value:i.value.slice(0,4)),A=r=>{a.value=r},B=()=>{a.value=null};return(r,e)=>(u(),c(w,null,[n(p(N),{title:"Dashboard"}),n(T,null,{default:m(()=>{var f,g,h,b;return[t("div",G,[t("div",K,[e[0]||(e[0]=t("div",{class:"bg-[#9E122C] p-4 rounded-full mb-3"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7h18M3 12h18M3 17h18"})])],-1)),e[1]||(e[1]=t("p",{class:"text-gray-700 text-base font-medium"}," Total Applications ",-1)),t("p",Y,s(((f=d.summary)==null?void 0:f.total)??0),1)]),t("div",tt,[e[2]||(e[2]=t("div",{class:"bg-[#9E122C] p-4 rounded-full mb-3"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),e[3]||(e[3]=t("p",{class:"text-gray-700 text-base font-medium"},"Accepted",-1)),t("p",et,s(((g=d.summary)==null?void 0:g.accepted)??0),1)]),t("div",st,[e[4]||(e[4]=t("div",{class:"bg-[#9E122C] p-4 rounded-full mb-3"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3"})])],-1)),e[5]||(e[5]=t("p",{class:"text-gray-700 text-base font-medium"},"Pending",-1)),t("p",rt,s(((h=d.summary)==null?void 0:h.pending)??0),1)]),t("div",ot,[e[6]||(e[6]=t("div",{class:"bg-[#9E122C] p-4 rounded-full mb-3"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),e[7]||(e[7]=t("p",{class:"text-gray-700 text-base font-medium"},"Returned",-1)),t("p",at,s(((b=d.summary)==null?void 0:b.returned)??0),1)])]),t("div",lt,[t("div",nt,[t("div",dt,[e[8]||(e[8]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Applications Overview ",-1)),n(p(O),{"chart-data":C,class:"h-60 w-full"})]),t("div",it,[t("div",ct,[e[10]||(e[10]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Recent Applications ",-1)),n(p(S),{href:"/applications",class:"text-sm text-[#9E122C] hover:underline hover:text-[#b51834] transition"},{default:m(()=>e[9]||(e[9]=[F(" See all ")])),_:1,__:[9]})]),t("table",ut,[e[11]||(e[11]=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-gray-500 pb-2"}," Last Name "),t("th",{class:"text-left text-gray-500 pb-2"}," First Name "),t("th",{class:"text-left text-gray-500 pb-2"}," Course "),t("th",{class:"text-left text-gray-500 pb-2"}," Status ")])],-1)),t("tbody",xt,[(u(!0),c(w,null,D(M.value,o=>(u(),c("tr",{key:o.id,onClick:Lt=>A(o),class:"cursor-pointer hover:bg-[#FBCB77]"},[t("td",mt,s(o.lastname),1),t("td",ft,s(o.firstname),1),t("td",gt,s(o.course||"â€”"),1),t("td",ht,[t("span",{class:P([L(o.status),"px-2 py-1 rounded text-xs font-semibold"])},s(o.status||"Unknown"),3)])],8,pt))),128))])])])]),n(R,{name:"slide-fade"},{default:m(()=>{var o;return[a.value?(u(),c("div",bt,[e[12]||(e[12]=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"}," User Information ",-1)),t("p",yt," Name: "+s(a.value.lastname)+", "+s(a.value.firstname),1),t("p",wt," Email: "+s(a.value.email),1),t("p",vt," Username: "+s(a.value.username),1),t("p",_t," Phone: "+s(a.value.phone),1),t("p",kt," Company: "+s((o=a.value.company)==null?void 0:o.name),1),t("button",{class:"mt-6 px-4 py-2 rounded bg-[#9E122C] text-white hover:bg-[#EE6A43] transition",onClick:B}," Close ")])):V("",!0)]}),_:1})])]}),_:1})],64))}},Nt=$(Ct,[["__scopeId","data-v-48c07a6c"]]);export{Nt as default};
