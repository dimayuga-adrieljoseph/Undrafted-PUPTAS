import{r as l,p as E,i as u,d,o as i,b as c,u as p,Z as F,w as h,a as t,F as m,g as L,t as o,n as B,q as D,e as M}from"./app-B9ioD5Tj.js";import{L as j}from"./index-CYFzajZd.js";import{_ as U}from"./AppLayout-CQBCTOBL.js";import{C as A,L as N,a as P,b as S,c as $,P as q,p as J,d as R,e as V}from"./chart-B9tDx7Vv.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Sidebar-Dz9939gr.js";import"./index-BP1wD6F3.js";import"./useGlobalLoading-D_ggrvgV.js";const I={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},T={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow hover:shadow-lg transition"},X={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow hover:shadow-lg transition overflow-x-auto"},H={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm"},O={class:"divide-y divide-gray-200 dark:divide-gray-700"},Q=["onClick"],W={class:"px-4 py-2 text-gray-800 dark:text-gray-100"},Z={class:"px-4 py-2 text-gray-600 dark:text-gray-300"},G={class:"px-4 py-2"},K={key:0,class:"fixed top-0 right-0 w-full md:w-1/3 h-full bg-[#FBCB77] dark:bg-gray-900 p-6 z-50 shadow-xl overflow-y-auto"},Y={class:"space-y-2"},tt={class:"text-gray-800 dark:text-gray-200 font-medium"},et={class:"text-gray-700 dark:text-gray-400"},at={class:"text-gray-700 dark:text-gray-400"},st={class:"text-gray-700 dark:text-gray-400"},rt={class:"text-gray-700 dark:text-gray-400"},ot={__name:"DashboardPanel",setup(lt){A.register(N,P,S,$,q,J,R,V);const n=l([]),r=l(null),y=l(!0),f=l(""),g=l(""),x=a=>`${a.firstname||""} ${a.lastname||""}`.trim(),b={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Submitted",data:[5,20,35,50,70,90],borderColor:"#2563EB",backgroundColor:"rgba(37, 99, 235, 0.2)",tension:.4},{label:"Accepted",data:[2,10,15,25,40,60],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.2)",tension:.4}]},v=a=>{const e=(a||"").toLowerCase();return e==="accepted"?"bg-green-100 text-green-700":e==="pending"?"bg-yellow-100 text-yellow-700":e==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"};E(async()=>{try{const a=await fetch("/dashboard/users",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!a.ok)throw new Error("Failed to fetch users");n.value=await a.json()}catch(a){f.value=a.message}finally{y.value=!1}});const w=u(()=>{const a=g.value.trim().toLowerCase();return a?n.value.filter(e=>`${e.firstname||""} ${e.lastname||""}`.toLowerCase().includes(a)):n.value}),k=u(()=>g.value.trim()?w.value:n.value.slice(0,5)),C=a=>{r.value=a},_=()=>{r.value=null};return(a,e)=>(i(),d(m,null,[c(p(F),{title:"Dashboard"}),c(U,null,{default:h(()=>[e[4]||(e[4]=t("div",{class:"flex justify-between items-center mb-8"},[t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Dashboard"),t("div",{class:"flex items-center gap-3 bg-white dark:bg-gray-900 rounded-full px-4 py-2 shadow"},[t("div",{class:"w-10 h-10 rounded-full bg-[#9E122C]/20 text-[#9E122C] font-semibold flex items-center justify-center"}," JD "),t("div",{class:"leading-tight"},[t("p",{class:"font-medium text-[#9E122C]"},"John Doe"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Administrator")])])],-1)),e[5]||(e[5]=t("div",{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-8"},[t("div",{class:"bg-[#FCECDF] dark:bg-gray-800 rounded-2xl p-6 shadow hover:shadow-lg transition transform hover:-translate-y-1 flex flex-col items-center"},[t("div",{class:"bg-[#9E122C] p-3 rounded-full mb-3"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7h18M3 12h18M3 17h18"})])]),t("p",{class:"text-gray-700 dark:text-gray-200 font-medium"},"Total Applications"),t("p",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"120")]),t("div",{class:"bg-[#FCECDF] dark:bg-gray-800 rounded-2xl p-6 shadow hover:shadow-lg transition transform hover:-translate-y-1 flex flex-col items-center"},[t("div",{class:"bg-[#9E122C] p-3 rounded-full mb-3"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])]),t("p",{class:"text-gray-700 dark:text-gray-200 font-medium"},"Accepted"),t("p",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"80")]),t("div",{class:"bg-[#FCECDF] dark:bg-gray-800 rounded-2xl p-6 shadow hover:shadow-lg transition transform hover:-translate-y-1 flex flex-col items-center"},[t("div",{class:"bg-[#9E122C] p-3 rounded-full mb-3"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3"})])]),t("p",{class:"text-gray-700 dark:text-gray-200 font-medium"},"Pending"),t("p",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"30")]),t("div",{class:"bg-[#FCECDF] dark:bg-gray-800 rounded-2xl p-6 shadow hover:shadow-lg transition transform hover:-translate-y-1 flex flex-col items-center"},[t("div",{class:"bg-[#9E122C] p-3 rounded-full mb-3"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])]),t("p",{class:"text-gray-700 dark:text-gray-200 font-medium"},"Rejected"),t("p",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"10")])],-1)),t("div",I,[t("div",T,[e[0]||(e[0]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Applications Overview",-1)),c(p(j),{"chart-data":b,class:"h-64 w-full"})]),t("div",X,[e[2]||(e[2]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Recent Applications",-1)),t("table",H,[e[1]||(e[1]=t("thead",null,[t("tr",{class:"bg-gray-50 dark:bg-gray-700"},[t("th",{class:"px-4 py-2 text-left text-gray-500 dark:text-gray-200"},"Name"),t("th",{class:"px-4 py-2 text-left text-gray-500 dark:text-gray-200"},"Course"),t("th",{class:"px-4 py-2 text-left text-gray-500 dark:text-gray-200"},"Status")])],-1)),t("tbody",O,[(i(!0),d(m,null,L(k.value,s=>(i(),d("tr",{key:s.id,onClick:dt=>C(s),class:"cursor-pointer hover:bg-[#FBCB77]/40 dark:hover:bg-gray-700 transition"},[t("td",W,o(x(s)),1),t("td",Z,o(s.course||"â€”"),1),t("td",G,[t("span",{class:B([v(s.status),"px-2 py-1 rounded text-xs font-semibold"])},o(s.status||"Unknown"),3)])],8,Q))),128))])])])]),c(D,{name:"slide-fade"},{default:h(()=>{var s;return[r.value?(i(),d("div",K,[e[3]||(e[3]=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"User Information",-1)),t("div",Y,[t("p",tt,"Name: "+o(x(r.value)),1),t("p",et,"Email: "+o(r.value.email),1),t("p",at,"Username: "+o(r.value.username),1),t("p",st,"Phone: "+o(r.value.phone),1),t("p",rt,"Company: "+o((s=r.value.company)==null?void 0:s.name),1)]),t("button",{onClick:_,class:"mt-6 px-4 py-2 rounded bg-[#9E122C] text-white hover:bg-[#EE6A43] transition"},"Close")])):M("",!0)]}),_:1})]),_:1,__:[4,5]})],64))}},yt=z(ot,[["__scopeId","data-v-1fbc6a7e"]]);export{yt as default};
