import{p as h,T as N,i as _,d as n,o as d,b as f,u as o,Z as C,w as c,a as s,e as E,k as U,f as i,F as g,g as y,t as b,l as S,h as a,v as m,m as x,H as M}from"./app-B9ioD5Tj.js";import{_ as j}from"./AppLayout-CQBCTOBL.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Sidebar-Dz9939gr.js";import"./index-BP1wD6F3.js";import"./useGlobalLoading-D_ggrvgV.js";const P={class:"container"},B={class:"form-card"},T={key:0,class:"error-message"},A={class:"form-row"},O={class:"form-group half-width"},$={class:"form-group half-width"},z={class:"form-group"},D={class:"form-row"},L={class:"form-group half-width"},Z={class:"form-group half-width"},G={class:"form-input-group"},H={class:"form-row"},R={class:"form-group half-width"},I={class:"form-group half-width"},J={class:"form-group"},K=["value"],Q={class:"form-group",id:"program-group"},W=["required"],X=["value"],Y={style:{"text-align":"right","margin-top":"1.5rem"}},ee=["disabled"],se={__name:"EditUser",props:{user:Object,programs:Array,roles:Object},setup(v){h(()=>{if(!document.querySelector('link[href*="font-awesome"]')){const u=document.createElement("link");u.rel="stylesheet",u.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css",document.head.appendChild(u)}});const l=v,r=N({firstname:l.user.firstname,lastname:l.user.lastname,middlename:l.user.middlename,email:l.user.email,contactnumber:l.user.contactnumber,password:"",password_confirmation:"",role_id:l.user.role_id.toString(),program:l.user.programs&&l.user.programs.length>0?l.user.programs[0].id:""}),w=_(()=>r.role_id==="1"),q=_(()=>Object.keys(r.errors).length>0),k=()=>{w.value||(r.program="")},V=()=>{r.post(route("users.update",l.user.id),{preserveScroll:!0})};return(u,e)=>(d(),n(g,null,[f(o(C),{title:"Edit User"}),f(j,null,{default:c(()=>[s("div",P,[s("div",B,[f(o(U),{href:u.route("users.index"),class:"form-button cancel",style:{"margin-bottom":"1rem"}},{default:c(()=>e[9]||(e[9]=[s("i",{class:"fas fa-arrow-left"},null,-1),i(" Back ")])),_:1,__:[9]},8,["href"]),e[24]||(e[24]=s("h2",null,"Edit User",-1)),q.value?(d(),n("div",T,[s("ul",null,[(d(!0),n(g,null,y(o(r).errors,(t,p)=>(d(),n("li",{key:p},b(t),1))),128))])])):E("",!0),s("form",{onSubmit:S(V,["prevent"])},[s("div",A,[s("div",O,[e[10]||(e[10]=s("label",{for:"firstname"},[i("First Name "),s("span",{class:"required"},"*")],-1)),a(s("input",{type:"text",id:"firstname","onUpdate:modelValue":e[0]||(e[0]=t=>o(r).firstname=t),required:""},null,512),[[m,o(r).firstname]])]),s("div",$,[e[11]||(e[11]=s("label",{for:"lastname"},[i("Last Name "),s("span",{class:"required"},"*")],-1)),a(s("input",{type:"text",id:"lastname","onUpdate:modelValue":e[1]||(e[1]=t=>o(r).lastname=t),required:""},null,512),[[m,o(r).lastname]])])]),s("div",z,[e[12]||(e[12]=s("label",{for:"middlename"},"Middle Name",-1)),a(s("input",{type:"text",id:"middlename","onUpdate:modelValue":e[2]||(e[2]=t=>o(r).middlename=t)},null,512),[[m,o(r).middlename]])]),s("div",D,[s("div",L,[e[13]||(e[13]=s("label",{for:"email"},[i("Email "),s("span",{class:"required"},"*")],-1)),a(s("input",{type:"email",id:"email","onUpdate:modelValue":e[3]||(e[3]=t=>o(r).email=t),required:"",pattern:"[a-z0-9._%+\\-]+@gmail\\.com$",title:"Must be a valid Gmail address like example@gmail.com"},null,512),[[m,o(r).email]])]),s("div",Z,[e[15]||(e[15]=s("label",{for:"contactnumber"},[i("Contact Number "),s("span",{class:"required"},"*")],-1)),s("div",G,[e[14]||(e[14]=s("div",{class:"input-prefix"},"+63",-1)),a(s("input",{type:"text",id:"contactnumber","onUpdate:modelValue":e[4]||(e[4]=t=>o(r).contactnumber=t),required:"",maxlength:"10",pattern:"\\d{10}",title:"Must be exactly 10 digits"},null,512),[[m,o(r).contactnumber]])])])]),s("div",H,[s("div",R,[e[16]||(e[16]=s("label",{for:"password"},"New Password",-1)),a(s("input",{type:"password",id:"password","onUpdate:modelValue":e[5]||(e[5]=t=>o(r).password=t),pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*?&.]).{8,}"},null,512),[[m,o(r).password]]),e[17]||(e[17]=s("small",null," At least 8 characters, 1 uppercase, 1 lowercase, 1 number, 1 special character ",-1))]),s("div",I,[e[18]||(e[18]=s("label",{for:"password_confirmation"},"Confirm Password",-1)),a(s("input",{type:"password",id:"password_confirmation","onUpdate:modelValue":e[6]||(e[6]=t=>o(r).password_confirmation=t)},null,512),[[m,o(r).password_confirmation]])])]),s("div",J,[e[19]||(e[19]=s("label",{for:"role_id"},[i("User Type "),s("span",{class:"required"},"*")],-1)),a(s("select",{id:"role_id","onUpdate:modelValue":e[7]||(e[7]=t=>o(r).role_id=t),required:"",onChange:k},[(d(!0),n(g,null,y(v.roles,(t,p)=>(d(),n("option",{key:p,value:p},b(t),9,K))),128))],544),[[x,o(r).role_id]])]),a(s("div",Q,[e[21]||(e[21]=s("label",{for:"program"},[i("Program "),s("span",{class:"required"},"*")],-1)),a(s("select",{id:"program","onUpdate:modelValue":e[8]||(e[8]=t=>o(r).program=t),required:w.value},[e[20]||(e[20]=s("option",{value:"",disabled:""},"---- Select Program ----",-1)),(d(!0),n(g,null,y(v.programs,t=>(d(),n("option",{key:t.id,value:t.id},b(t.name),9,X))),128))],8,W),[[x,o(r).program]])],512),[[M,w.value]]),s("div",Y,[f(o(U),{href:u.route("users.index"),class:"form-button cancel"},{default:c(()=>e[22]||(e[22]=[s("i",{class:"fas fa-times"},null,-1),i(" Cancel ")])),_:1,__:[22]},8,["href"]),s("button",{type:"submit",class:"form-button",disabled:o(r).processing},[e[23]||(e[23]=s("i",{class:"fas fa-save"},null,-1)),i(" "+b(o(r).processing?"Updating...":"Update User"),1)],8,ee)])],32)])])]),_:1})],64))}},ne=F(se,[["__scopeId","data-v-e78d566b"]]);export{ne as default};
