import{r as p,i as y,d,o as n,b as i,u as g,Z as E,w as u,a as t,F as m,g as b,c as D,A as j,t as r,k as A,f as U,n as M,q as N,e as S}from"./app-DfB9M8U9.js";import{L as F}from"./index-5mJFNT4A.js";import{_ as P}from"./AppLayout-CqBzu_JH.js";import{C as V,L as $,a as I,b as O,c as R,P as T,p as z,d as q,e as Q}from"./chart-B9tDx7Vv.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Sidebar-CnNQZtMu.js";import"./index-4xUsyZUr.js";import"./useGlobalLoading-JbndNdYb.js";const G={class:"grid grid-cols-2 sm:grid-cols-4 gap-6 px-4 md:px-8"},H={class:"flex items-center mb-4"},J={class:"p-3 bg-[#9E122C] rounded-full text-white mr-3 flex items-center justify-center"},K={class:"text-gray-700 dark:text-gray-200 font-medium"},W={class:"text-3xl font-bold text-gray-900 dark:text-white"},X={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8 px-4 md:px-8"},Y={class:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow border border-red-300"},tt={class:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow border border-red-300 overflow-x-auto"},et={class:"flex justify-between items-center mb-4"},at={class:"min-w-full text-sm divide-y divide-gray-200 dark:divide-gray-700"},rt={class:"divide-y divide-gray-200 dark:divide-gray-700"},st=["onClick"],ot={class:"px-4 py-2 text-gray-800 dark:text-gray-100"},lt={class:"px-4 py-2 text-gray-800 dark:text-gray-100"},nt={class:"px-4 py-2 text-gray-600 dark:text-gray-300"},dt={class:"px-4 py-2"},it={key:0,class:"fixed top-0 right-0 w-full md:w-1/3 h-full bg-white dark:bg-gray-900 p-6 z-50 shadow-xl overflow-y-auto"},ct={class:"space-y-2"},pt={class:"text-gray-800 dark:text-gray-200 font-medium"},gt={class:"text-gray-700 dark:text-gray-400"},ut={class:"text-gray-700 dark:text-gray-400"},mt={__name:"Dashboard",props:{allUsers:Array,summary:{type:Object,default:()=>({total:0,accepted:0,pending:0,returned:0})},chartData:{type:Object,default:()=>({submitted:[],accepted:[],returned:[],years:[]})}},setup(v){V.register($,I,O,R,T,z,q,Q);const s=v,f=p(s.allUsers||[]),o=p(null),x=p(""),w=[{label:"Total Applications",value:s.summary.total,icon:{template:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7h18M3 12h18M3 17h18" /></svg>'}},{label:"Accepted",value:s.summary.accepted,icon:{template:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>'}},{label:"Pending",value:s.summary.pending,icon:{template:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3" /></svg>'}},{label:"Returned",value:s.summary.returned,icon:{template:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>'}}],_=y(()=>({labels:s.chartData.years||[],datasets:[{label:"Submitted",data:s.chartData.submitted,borderColor:"#2563EB",backgroundColor:"rgba(37, 99, 235, 0.2)",tension:.4},{label:"Accepted",data:s.chartData.accepted,borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.2)",tension:.4},{label:"Returned",data:s.chartData.returned,borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.2)",tension:.4}]})),k=l=>{const e=(l||"").toLowerCase();return e==="accepted"?"bg-green-100 text-green-700":e==="pending"?"bg-yellow-100 text-yellow-700":e==="returned"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"},C=y(()=>{const l=f.value.filter(e=>{var a;return((a=e.role)==null?void 0:a.toLowerCase())==="applicant"});return x.value.trim()?l.filter(e=>`${e.firstname} ${e.lastname}`.toLowerCase().includes(x.value.toLowerCase())):l.slice(0,4)}),L=l=>{o.value=l},B=()=>{o.value=null};return(l,e)=>(n(),d(m,null,[i(g(E),{title:"Dashboard"}),i(P,null,{default:u(()=>[t("div",G,[(n(),d(m,null,b(w,(a,c)=>t("div",{key:c,class:"bg-white dark:bg-gray-800 border-l-4 border-[#9E122C] rounded-xl p-6 shadow hover:shadow-lg transition transform hover:-translate-y-1 cursor-pointer"},[t("div",H,[t("div",J,[(n(),D(j(a.icon),{class:"w-6 h-6"}))]),t("p",K,r(a.label),1)]),t("p",W,r(a.value),1)])),64))]),t("div",X,[t("div",Y,[e[0]||(e[0]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Applications Overview ",-1)),i(g(F),{"chart-data":_.value,class:"h-60 w-full"},null,8,["chart-data"])]),t("div",tt,[t("div",et,[e[2]||(e[2]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Recent Applications",-1)),i(g(A),{href:"/applications",class:"text-sm text-[#9E122C] hover:underline hover:text-[#b51834] transition"},{default:u(()=>e[1]||(e[1]=[U(" See all ")])),_:1,__:[1]})]),t("table",at,[e[3]||(e[3]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-gray-500 dark:text-gray-200"},"Last Name"),t("th",{class:"px-4 py-2 text-left text-gray-500 dark:text-gray-200"},"First Name"),t("th",{class:"px-4 py-2 text-left text-gray-500 dark:text-gray-200"},"Course"),t("th",{class:"px-4 py-2 text-left text-gray-500 dark:text-gray-200"},"Status")])],-1)),t("tbody",rt,[(n(!0),d(m,null,b(C.value,a=>{var c,h;return n(),d("tr",{key:a.id,onClick:xt=>L(a),class:"cursor-pointer hover:bg-[#FBCB77]/40 dark:hover:bg-gray-700 transition"},[t("td",ot,r(a.lastname),1),t("td",lt,r(a.firstname),1),t("td",nt,r(((h=(c=a.application)==null?void 0:c.program)==null?void 0:h.code)||"—"),1),t("td",dt,[t("span",{class:M([k(a.status),"px-2 py-1 rounded text-xs font-semibold"])},r(a.status||"Unknown"),3)])],8,st)}),128))])])])]),i(N,{name:"slide-fade"},{default:u(()=>[o.value?(n(),d("div",it,[t("button",{class:"mt-6 px-4 py-2 rounded bg-[#9E122C] text-white hover:bg-[#EE6A43] transition",onClick:B}," Close "),e[4]||(e[4]=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"User Information",-1)),t("div",ct,[t("p",pt,"Name: "+r(o.value.lastname)+", "+r(o.value.firstname),1),t("p",gt,"Email: "+r(o.value.email),1),t("p",ut,"Phone: "+r(o.value.phone||"—"),1)])])):S("",!0)]),_:1})]),_:1})],64))}},Ct=Z(mt,[["__scopeId","data-v-eae517c0"]]);export{Ct as default};
