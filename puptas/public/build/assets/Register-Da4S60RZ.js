import{x as ct,r as L,T as mt,d as j,o as z,b as i,u,Z as pt,w as T,a as n,F as pe,g as _e,n as $e,t as J,e as te,l as oe,h as ve,m as ge,f as R,N as vt}from"./app-BMHqDqk-.js";import{_ as gt}from"./AuthenticationCard-Bt-DGKtj.js";import{_ as ht}from"./AuthenticationCardLogo-Dw09cE1c.js";import{_ as E,a as yt}from"./TextInput-C7fovOqQ.js";import{_ as re}from"./InputLabel-DJlq2cEX.js";import{_ as N}from"./PrimaryButton-D5scJ3WW.js";var he={exports:{}},Fe;function wt(){return Fe||(Fe=1,function(m){var s=function(l){var g=Object.prototype,c=g.hasOwnProperty,y=Object.defineProperty||function(e,t,r){e[t]=r.value},b,x=typeof Symbol=="function"?Symbol:{},p=x.iterator||"@@iterator",O=x.asyncIterator||"@@asyncIterator",I=x.toStringTag||"@@toStringTag";function C(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{C({},"")}catch{C=function(t,r,f){return t[r]=f}}function _(e,t,r,f){var d=t&&t.prototype instanceof G?t:G,S=Object.create(d.prototype),U=new se(f||[]);return y(S,"_invoke",{value:de(e,r,U)}),S}l.wrap=_;function W(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(f){return{type:"throw",arg:f}}}var Z="suspendedStart",k="suspendedYield",A="executing",$="completed",w={};function G(){}function P(){}function F(){}var ne={};C(ne,p,function(){return this});var ae=Object.getPrototypeOf,X=ae&&ae(ae(ue([])));X&&X!==g&&c.call(X,p)&&(ne=X);var o=F.prototype=G.prototype=Object.create(ne);P.prototype=F,y(o,"constructor",{value:F,configurable:!0}),y(F,"constructor",{value:P,configurable:!0}),P.displayName=C(F,I,"GeneratorFunction");function le(e){["next","throw","return"].forEach(function(t){C(e,t,function(r){return this._invoke(t,r)})})}l.isGeneratorFunction=function(e){var t=typeof e=="function"&&e.constructor;return t?t===P||(t.displayName||t.name)==="GeneratorFunction":!1},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,F):(e.__proto__=F,C(e,I,"GeneratorFunction")),e.prototype=Object.create(o),e},l.awrap=function(e){return{__await:e}};function Q(e,t){function r(S,U,M,D){var q=W(e[S],e,U);if(q.type==="throw")D(q.arg);else{var v=q.arg,h=v.value;return h&&typeof h=="object"&&c.call(h,"__await")?t.resolve(h.__await).then(function(V){r("next",V,M,D)},function(V){r("throw",V,M,D)}):t.resolve(h).then(function(V){v.value=V,M(v)},function(V){return r("throw",V,M,D)})}}var f;function d(S,U){function M(){return new t(function(D,q){r(S,U,D,q)})}return f=f?f.then(M,M):M()}y(this,"_invoke",{value:d})}le(Q.prototype),C(Q.prototype,O,function(){return this}),l.AsyncIterator=Q,l.async=function(e,t,r,f,d){d===void 0&&(d=Promise);var S=new Q(_(e,t,r,f),d);return l.isGeneratorFunction(t)?S:S.next().then(function(U){return U.done?U.value:S.next()})};function de(e,t,r){var f=Z;return function(S,U){if(f===A)throw new Error("Generator is already running");if(f===$){if(S==="throw")throw U;return a()}for(r.method=S,r.arg=U;;){var M=r.delegate;if(M){var D=H(M,r);if(D){if(D===w)continue;return D}}if(r.method==="next")r.sent=r._sent=r.arg;else if(r.method==="throw"){if(f===Z)throw f=$,r.arg;r.dispatchException(r.arg)}else r.method==="return"&&r.abrupt("return",r.arg);f=A;var q=W(e,t,r);if(q.type==="normal"){if(f=r.done?$:k,q.arg===w)continue;return{value:q.arg,done:r.done}}else q.type==="throw"&&(f=$,r.method="throw",r.arg=q.arg)}}}function H(e,t){var r=t.method,f=e.iterator[r];if(f===b)return t.delegate=null,r==="throw"&&e.iterator.return&&(t.method="return",t.arg=b,H(e,t),t.method==="throw")||r!=="return"&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),w;var d=W(f,e.iterator,t.arg);if(d.type==="throw")return t.method="throw",t.arg=d.arg,t.delegate=null,w;var S=d.arg;if(!S)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,w;if(S.done)t[e.resultName]=S.value,t.next=e.nextLoc,t.method!=="return"&&(t.method="next",t.arg=b);else return S;return t.delegate=null,w}le(o),C(o,I,"Generator"),C(o,p,function(){return this}),C(o,"toString",function(){return"[object Generator]"});function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function ie(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function se(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}l.keys=function(e){var t=Object(e),r=[];for(var f in t)r.push(f);return r.reverse(),function d(){for(;r.length;){var S=r.pop();if(S in t)return d.value=S,d.done=!1,d}return d.done=!0,d}};function ue(e){if(e){var t=e[p];if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var r=-1,f=function d(){for(;++r<e.length;)if(c.call(e,r))return d.value=e[r],d.done=!1,d;return d.value=b,d.done=!0,d};return f.next=f}}return{next:a}}l.values=ue;function a(){return{value:b,done:!0}}return se.prototype={constructor:se,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(ie),!e)for(var t in this)t.charAt(0)==="t"&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=b)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if(t.type==="throw")throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(D,q){return S.type="throw",S.arg=e,t.next=D,q&&(t.method="next",t.arg=b),!!q}for(var f=this.tryEntries.length-1;f>=0;--f){var d=this.tryEntries[f],S=d.completion;if(d.tryLoc==="root")return r("end");if(d.tryLoc<=this.prev){var U=c.call(d,"catchLoc"),M=c.call(d,"finallyLoc");if(U&&M){if(this.prev<d.catchLoc)return r(d.catchLoc,!0);if(this.prev<d.finallyLoc)return r(d.finallyLoc)}else if(U){if(this.prev<d.catchLoc)return r(d.catchLoc,!0)}else if(M){if(this.prev<d.finallyLoc)return r(d.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var f=this.tryEntries[r];if(f.tryLoc<=this.prev&&c.call(f,"finallyLoc")&&this.prev<f.finallyLoc){var d=f;break}}d&&(e==="break"||e==="continue")&&d.tryLoc<=t&&t<=d.finallyLoc&&(d=null);var S=d?d.completion:{};return S.type=e,S.arg=t,d?(this.method="next",this.next=d.finallyLoc,w):this.complete(S)},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),ie(r),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var f=r.completion;if(f.type==="throw"){var d=f.arg;ie(r)}return d}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:ue(e),resultName:t,nextLoc:r},this.method==="next"&&(this.arg=b),w}},l}(m.exports);try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}}(he)),he.exports}var ye,Be;function xe(){return Be||(Be=1,ye=(m,s)=>`${m}-${s}-${Math.random().toString(16).slice(3,8)}`),ye}var we,De;function st(){if(De)return we;De=1;const m=xe();let s=0;return we=({id:l,action:g,payload:c={}})=>{let y=l;return typeof y>"u"&&(y=m("Job",s),s+=1),{id:y,action:g,payload:c}},we}var fe={},je;function Ie(){if(je)return fe;je=1;let m=!1;return fe.logging=m,fe.setLogging=s=>{m=s},fe.log=(...s)=>m?console.log.apply(this,s):null,fe}var Se,ze;function St(){if(ze)return Se;ze=1;const m=st(),{log:s}=Ie(),l=xe();let g=0;return Se=()=>{const c=l("Scheduler",g),y={},b={};let x=[];g+=1;const p=()=>x.length,O=()=>Object.keys(y).length,I=()=>{if(x.length!==0){const k=Object.keys(y);for(let A=0;A<k.length;A+=1)if(typeof b[k[A]]>"u"){x[0](y[k[A]]);break}}},C=(k,A)=>new Promise(($,w)=>{const G=m({action:k,payload:A});x.push(async P=>{x.shift(),b[P.id]=G;try{$(await P[k].apply(this,[...A,G.id]))}catch(F){w(F)}finally{delete b[P.id],I()}}),s(`[${c}]: Add ${G.id} to JobQueue`),s(`[${c}]: JobQueue length=${x.length}`),I()});return{addWorker:k=>(y[k.id]=k,s(`[${c}]: Add ${k.id}`),s(`[${c}]: Number of workers=${O()}`),I(),k.id),addJob:async(k,...A)=>{if(O()===0)throw Error(`[${c}]: You need to have at least one worker before adding jobs`);return C(k,A)},terminate:async()=>{Object.keys(y).forEach(async k=>{await y[k].terminate()}),x=[]},getQueueLen:p,getNumWorkers:O}},Se}function bt(m){throw new Error('Could not dynamically require "'+m+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var be,We;function kt(){return We||(We=1,be=m=>{const s={};return typeof WorkerGlobalScope<"u"?s.type="webworker":typeof document=="object"?s.type="browser":typeof process=="object"&&typeof bt=="function"&&(s.type="node"),typeof m>"u"?s:s[m]}),be}var ke,He;function Et(){if(He)return ke;He=1;const s=kt()("type")==="browser"?l=>new URL(l,window.location.href).href:l=>l;return ke=l=>{const g={...l};return["corePath","workerPath","langPath"].forEach(c=>{l[c]&&(g[c]=s(g[c]))}),g},ke}var Ee,Ye;function ut(){return Ye||(Ye=1,Ee={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),Ee}const Lt="6.0.1",Rt={version:Lt};var Le,Ke;function Vt(){return Ke||(Ke=1,Le={workerBlobURL:!0,logger:()=>{}}),Le}var Re,Je;function Ot(){if(Je)return Re;Je=1;const m=Rt.version;return Re={...Vt(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${m}/dist/worker.min.js`},Re}var Ve,Ze;function At(){return Ze||(Ze=1,Ve=({workerPath:m,workerBlobURL:s})=>{let l;if(Blob&&URL&&s){const g=new Blob([`importScripts("${m}");`],{type:"application/javascript"});l=new Worker(URL.createObjectURL(g))}else l=new Worker(m);return l}),Ve}var Oe,Xe;function Ct(){return Xe||(Xe=1,Oe=m=>{m.terminate()}),Oe}var Ae,Qe;function Tt(){return Qe||(Qe=1,Ae=(m,s)=>{m.onmessage=({data:l})=>{s(l)}}),Ae}var Ce,et;function Gt(){return et||(et=1,Ce=async(m,s)=>{m.postMessage(s)}),Ce}var Te,tt;function Nt(){if(tt)return Te;tt=1;const m=l=>new Promise((g,c)=>{const y=new FileReader;y.onload=()=>{g(y.result)},y.onerror=({target:{error:{code:b}}})=>{c(Error(`File could not be read! Code=${b}`))},y.readAsArrayBuffer(l)}),s=async l=>{let g=l;if(typeof l>"u")return"undefined";if(typeof l=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(l)?g=atob(l.split(",")[1]).split("").map(c=>c.charCodeAt(0)):g=await(await fetch(l)).arrayBuffer();else if(typeof HTMLElement<"u"&&l instanceof HTMLElement)l.tagName==="IMG"&&(g=await s(l.src)),l.tagName==="VIDEO"&&(g=await s(l.poster)),l.tagName==="CANVAS"&&await new Promise(c=>{l.toBlob(async y=>{g=await m(y),c()})});else if(typeof OffscreenCanvas<"u"&&l instanceof OffscreenCanvas){const c=await l.convertToBlob();g=await m(c)}else(l instanceof File||l instanceof Blob)&&(g=await m(l));return new Uint8Array(g)};return Te=s,Te}var Ge,rt;function Pt(){if(rt)return Ge;rt=1;const m=Ot(),s=At(),l=Ct(),g=Tt(),c=Gt(),y=Nt();return Ge={defaultOptions:m,spawnWorker:s,terminateWorker:l,onMessage:g,send:c,loadImage:y},Ge}var Ne,nt;function dt(){if(nt)return Ne;nt=1;const m=Et(),s=st(),{log:l}=Ie(),g=xe(),c=ut(),{defaultOptions:y,spawnWorker:b,terminateWorker:x,onMessage:p,loadImage:O,send:I}=Pt();let C=0;return Ne=async(_="eng",W=c.LSTM_ONLY,Z={},k={})=>{const A=g("Worker",C),{logger:$,errorHandler:w,...G}=m({...y,...Z}),P={},F=typeof _=="string"?_.split("+"):_;let ne=W,ae=k;const X=[c.DEFAULT,c.LSTM_ONLY].includes(W)&&!G.legacyCore;let o,le;const Q=new Promise((v,h)=>{le=v,o=h}),de=v=>{o(v.message)};let H=b(G);H.onerror=de,C+=1;const B=({id:v,action:h,payload:V})=>new Promise((Y,K)=>{l(`[${A}]: Start ${v}, action=${h}`);const ee=`${h}-${v}`;P[ee]={resolve:Y,reject:K},I(H,{workerId:A,jobId:v,action:h,payload:V})}),ie=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),se=v=>B(s({id:v,action:"load",payload:{options:{lstmOnly:X,corePath:G.corePath,logging:G.logging}}})),ue=(v,h,V)=>B(s({id:V,action:"FS",payload:{method:"writeFile",args:[v,h]}})),a=(v,h)=>B(s({id:h,action:"FS",payload:{method:"readFile",args:[v,{encoding:"utf8"}]}})),e=(v,h)=>B(s({id:h,action:"FS",payload:{method:"unlink",args:[v]}})),t=(v,h,V)=>B(s({id:V,action:"FS",payload:{method:v,args:h}})),r=(v,h)=>B(s({id:h,action:"loadLanguage",payload:{langs:v,options:{langPath:G.langPath,dataPath:G.dataPath,cachePath:G.cachePath,cacheMethod:G.cacheMethod,gzip:G.gzip,lstmOnly:[c.DEFAULT,c.LSTM_ONLY].includes(ne)&&!G.legacyLang}}})),f=(v,h,V,Y)=>B(s({id:Y,action:"initialize",payload:{langs:v,oem:h,config:V}})),d=(v="eng",h,V,Y)=>{if(X&&[c.TESSERACT_ONLY,c.TESSERACT_LSTM_COMBINED].includes(h))throw Error("Legacy model requested but code missing.");const K=h||ne;ne=K;const ee=V||ae;ae=ee;const me=(typeof v=="string"?v.split("+"):v).filter(ft=>!F.includes(ft));return F.push(...me),me.length>0?r(me,Y).then(()=>f(v,K,ee,Y)):f(v,K,ee,Y)},S=(v={},h)=>B(s({id:h,action:"setParameters",payload:{params:v}})),U=async(v,h={},V={text:!0},Y)=>B(s({id:Y,action:"recognize",payload:{image:await O(v),options:h,output:V}})),M=async(v,h)=>{if(X)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return B(s({id:h,action:"detect",payload:{image:await O(v)}}))},D=async()=>(H!==null&&(x(H),H=null),Promise.resolve());p(H,({workerId:v,jobId:h,status:V,action:Y,data:K})=>{const ee=`${Y}-${h}`;if(V==="resolve")l(`[${v}]: Complete ${h}`),P[ee].resolve({jobId:h,data:K}),delete P[ee];else if(V==="reject")if(P[ee].reject(K),delete P[ee],Y==="load"&&o(K),w)w(K);else throw Error(K);else V==="progress"&&$({...K,userJobId:h})});const q={id:A,worker:H,load:ie,writeText:ue,readText:a,removeFile:e,FS:t,reinitialize:d,setParameters:S,recognize:U,detect:M,terminate:D};return se().then(()=>r(_)).then(()=>f(_,W,k)).then(()=>le(q)).catch(()=>{}),Q},Ne}var Pe,ot;function Ut(){if(ot)return Pe;ot=1;const m=dt();return Pe={recognize:async(g,c,y)=>{const b=await m(c,1,y);return b.recognize(g).finally(async()=>{await b.terminate()})},detect:async(g,c)=>{const y=await m("osd",0,c);return y.detect(g).finally(async()=>{await y.terminate()})}},Pe}var Ue,at;function Mt(){return at||(at=1,Ue={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),Ue}var Me,lt;function qt(){return lt||(lt=1,Me={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),Me}var qe,it;function xt(){if(it)return qe;it=1,wt();const m=St(),s=dt(),l=Ut(),g=Mt(),c=ut(),y=qt(),{setLogging:b}=Ie();return qe={languages:g,OEM:c,PSM:y,createScheduler:m,createWorker:s,setLogging:b,...l},qe}var It=xt();const ce=ct(It),_t={class:"flex flex-col items-center space-y-2"},$t={class:"grid grid-cols-1 lg:grid-cols-4 gap-8 mt-8"},Ft={class:"lg:col-span-1"},Bt={class:"space-y-4 text-sm"},Dt={class:"lg:col-span-3 bg-gray-900 rounded-xl p-8 shadow-lg"},jt={class:"grid md:grid-cols-2 gap-6"},zt={class:"relative"},Wt={class:"md:col-span-2"},Ht={class:"flex justify-end mt-8"},Yt={class:"grid md:grid-cols-2 gap-6"},Kt={class:"flex justify-between mt-8"},Jt={class:"grid md:grid-cols-2 gap-6"},Zt={class:"upload-card"},Xt={class:"mt-4 space-y-2"},Qt={class:"upload-card"},er={class:"wizard-actions"},tr={class:"grid md:grid-cols-3 gap-6"},rr={class:"wizard-actions"},nr={class:"grid md:grid-cols-2 gap-6"},or={class:"upload-card"},ar={class:"upload-card"},lr={class:"wizard-actions"},ir={class:"grid md:grid-cols-2 gap-6"},sr={class:"wizard-actions"},ur={class:"grid md:grid-cols-2 gap-6"},dr={class:"upload-card"},fr={class:"upload-card"},cr={class:"wizard-actions"},mr={class:"grid md:grid-cols-2 gap-6"},pr={class:"wizard-actions"},vr={class:"grid md:grid-cols-2 gap-6"},gr={class:"upload-title capitalize"},hr=["onChange"],yr={class:"wizard-actions"},wr={key:9},Sr={class:"mt-6 text-gray-300 space-y-2"},br={class:"flex justify-between mt-8"},Cr={__name:"Register",setup(m){const s=window.axios,l=L(""),g=L(!1),c=L(!1),y=L(!1);L(null);const b=L(null),x=async()=>{if(l.value="",!!o.email){g.value=!0;try{(await s.post("/check-email",{email:o.email})).data.taken&&(l.value="This email is already taken.")}catch(a){console.error("Error checking email:",a),l.value="Unable to validate email."}finally{g.value=!1}}},p=L(1),O=L(!1),I=L(null),C=L(null),_=L(null);L(null);const W=L(null),Z=L(null),k=L({name:"",lrn:""}),A=L({name:"",lrn:""}),$=L({name:"",lrn:""}),w=L({id:{file:null,name:""},nonEnroll:{file:null,name:""},psa:{file:null,name:""},goodMoral:{file:null,name:""},underOath:{file:null,name:""},photo:{file:null,name:""}});L(""),L(""),L(""),L(""),L(""),L("");const G=async(a,e,t=null)=>{const r=a.target.files[0];r&&(w.value[e].file=r,t&&await se(r,t))},P=a=>{I.value=a.target.files[0]},F=a=>{C.value=a.target.files[0]},ne=a=>{_.value=a.target.files[0],Q(_.value,k)},ae=a=>{W.value=a.target.files[0],Q(W.value,A)},X=a=>{Z.value=a.target.files[0],Q(Z.value,$)},o=mt({lastname:"",firstname:"",middlename:"",birthday:"",sex:"",contactnumber:"",address:"",school:"",schoolAdd:"",schoolyear:"",dateGrad:"",strand:"",track:"",email:"",password:"",password_confirmation:"",file:null,english:"",mathematics:"",science:"",firstSem:"",secondSem:"",g12firstSem:"",g12secondSem:""}),le=a=>{let e=a.target.value;e=e.replace(/\D/g,""),e.length>10&&(e=e.slice(0,10)),o.contactnumber=e,a.target.value=e},Q=async(a,e)=>{if(a){O.value=!0;try{const{data:{text:t}}=await ce.recognize(a,"eng"),r=t.match(/Name\s*[:\-]?\s*(.+)/i),f=t.match(/LRN\s*[:\-]?\s*(\d{12})/i);e.value.name=r?r[1].trim():"",e.value.lrn=f?f[1].trim():""}catch(t){console.error("Tesseract error:",t),alert("Failed to extract text from image.")}finally{O.value=!1}}},de=a=>{b.value=a.target.files[0]},H=async()=>{if(!_.value){alert("Please upload a grade 10 report file.");return}O.value=!0;try{const{data:{text:a}}=await ce.recognize(b.value,"eng"),e=a.match(/English\s*[:\-]?\s*(\d{1,3})/i),t=a.match(/Mathematics\s*[:\-]?\s*(\d{1,3})/i),r=a.match(/Science\s*[:\-]?\s*(\d{1,3})/i);o.english=e?e[1]:"",o.mathematics=t?t[1]:"",o.science=r?r[1]:"",p.value=4}catch{alert("Error extracting grades. Please try again.")}finally{O.value=!1}},B=async()=>{if(!I.value){alert("Please upload a grade 11 report file.");return}O.value=!0;try{const{data:{text:a}}=await ce.recognize(I.value,"eng");console.log("Grade 11 OCR Text:",a);const e=/General\s*Average[\s\S]{0,15}?(\d{1,3}(\.\d+)?)/gi,t=[];let r;for(;(r=e.exec(a))!==null;)t.push(r[1]);o.firstSem=t[0]||"",o.secondSem=t[1]||"",p.value=6}catch{alert("Error extracting Grade 11. Please try again.")}finally{O.value=!1}},ie=async()=>{if(!C.value){alert("Please upload a grade 12 report file.");return}O.value=!0;try{const{data:{text:a}}=await ce.recognize(C.value,"eng"),e=a.match(/First\s*Sem\s*[:\-]?\s*(\d{1,3})/i),t=a.match(/Second\s*Sem\s*[:\-]?\s*(\d{1,3})/i);o.g12firstSem=e?e[1]:"",o.g12secondSem=t?t[1]:"",p.value=8}catch{alert("Error extracting Grade 12. Please try again.")}finally{O.value=!1}},se=async(a,e)=>{if(a){O.value=!0;try{const{data:{text:t}}=await ce.recognize(a,"eng"),r=t.match(/Name\s*[:\-]?\s*(.+)/i);e.value=r?r[1].trim():""}catch(t){console.error("OCR error:",t),alert("Failed to extract name from image.")}finally{O.value=!1}}},ue=async()=>{await o.post(route("register"),{onSuccess:async()=>{try{const a=new FormData;a.append("email",o.email),_.value&&a.append("file10Front",_.value),b.value&&a.append("file10Back",b.value),W.value&&a.append("file11Front",W.value),I.value&&a.append("file11",I.value),Z.value&&a.append("file12Front",Z.value),C.value&&a.append("file12",C.value);const e={id:"fileId",nonEnroll:"fileNonEnroll",psa:"filePSA",goodMoral:"fileGoodMoral",underOath:"fileUnderOath",photo:"filePhoto2x2"};for(const t in e){const r=w.value[t].file;r&&a.append(e[t],r)}w.value.nonEnroll.file&&a.append("fileNonEnroll",w.value.nonEnroll.file),w.value.psa.file&&a.append("filePSA",w.value.psa.file),w.value.goodMoral.file&&a.append("fileGoodMoral",w.value.goodMoral.file),w.value.underOath.file&&a.append("fileUnderOath",w.value.underOath.file),w.value.photo.file&&a.append("filePhoto2x2",w.value.photo.file),await s.post("/upload-files",a,{headers:{"Content-Type":"multipart/form-data","X-Requested-With":"XMLHttpRequest",Accept:"application/json"}}),await s.post("/api/store-grades",{email:o.email,english:o.english,mathematics:o.mathematics,science:o.science,g11_first_sem:o.firstSem,g11_second_sem:o.secondSem,g12_first_sem:o.g12firstSem,g12_second_sem:o.g12secondSem},{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}}),alert("Registration successful! Files and grades saved."),o.reset("password","password_confirmation","file"),vt.visit("/applicant-dashboard")}catch(a){console.error("Error uploading files or grades:",a),alert("Failed to upload files or grades. Please try again.")}},onError:a=>{console.error("Registration error:",a)}})};return(a,e)=>(z(),j(pe,null,[i(u(pt),{title:"Applicant Registration"}),i(gt,{wide:""},{logo:T(()=>[n("div",_t,[i(ht),e[43]||(e[43]=n("h1",{class:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-800 to-yellow-500"}," PUPT Admission Portal ",-1)),e[44]||(e[44]=n("p",{class:"text-sm text-gray-400"}," Secure Applicant Registration System ",-1))])]),default:T(()=>[n("div",$t,[n("aside",Ft,[n("ol",Bt,[(z(),j(pe,null,_e(10,t=>n("li",{key:t,class:$e(["flex items-center space-x-2",p.value===t?"text-yellow-400 font-semibold":"text-gray-400"])},[n("span",{class:$e(["w-6 h-6 flex items-center justify-center rounded-full border",p.value>=t?"border-yellow-400 bg-yellow-400 text-black":"border-gray-600"])},J(t),3),n("span",null,J(["Personal Info","School Info","Grade 10 Upload","Grade 10 Review","Grade 11 Upload","Grade 11 Review","Grade 12 Upload","Grade 12 Review","Requirements","Confirmation"][t-1]),1)],2)),64))])]),n("section",Dt,[p.value===1?(z(),j("form",{key:0,onSubmit:e[9]||(e[9]=oe(t=>p.value=2,["prevent"]))},[e[48]||(e[48]=n("h2",{class:"text-xl font-bold text-white mb-6"}," Personal Information ",-1)),n("div",jt,[n("div",null,[i(re,{value:"Lastname"}),i(E,{modelValue:u(o).lastname,"onUpdate:modelValue":e[0]||(e[0]=t=>u(o).lastname=t),required:""},null,8,["modelValue"])]),n("div",null,[i(re,{value:"Firstname"}),i(E,{modelValue:u(o).firstname,"onUpdate:modelValue":e[1]||(e[1]=t=>u(o).firstname=t),required:""},null,8,["modelValue"])]),n("div",null,[i(re,{value:"Middlename"}),i(E,{modelValue:u(o).middlename,"onUpdate:modelValue":e[2]||(e[2]=t=>u(o).middlename=t),required:""},null,8,["modelValue"])]),n("div",null,[i(re,{value:"Birthday"}),i(E,{type:"date",modelValue:u(o).birthday,"onUpdate:modelValue":e[3]||(e[3]=t=>u(o).birthday=t),required:""},null,8,["modelValue"])]),n("div",null,[i(re,{value:"Gender"}),ve(n("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>u(o).sex=t),class:"input-select"},e[45]||(e[45]=[n("option",{disabled:"",value:""},"Select",-1),n("option",{value:"male"},"Male",-1),n("option",{value:"female"},"Female",-1),n("option",{value:"non-binary"},"Non-Binary",-1)]),512),[[ge,u(o).sex]])]),n("div",null,[i(re,{value:"Contact Number"}),n("div",zt,[e[46]||(e[46]=n("span",{class:"absolute left-3 top-2.5 text-gray-500"},"+63",-1)),i(E,{class:"pl-10",value:u(o).contactnumber,onInput:le},null,8,["value"])])]),n("div",Wt,[i(re,{value:"Address"}),i(E,{modelValue:u(o).address,"onUpdate:modelValue":e[5]||(e[5]=t=>u(o).address=t)},null,8,["modelValue"])]),n("div",null,[i(re,{value:"Email"}),i(E,{modelValue:u(o).email,"onUpdate:modelValue":e[6]||(e[6]=t=>u(o).email=t),onBlur:x,required:""},null,8,["modelValue"]),i(yt,{message:l.value},null,8,["message"])]),n("div",null,[i(re,{value:"Password"}),i(E,{type:c.value?"text":"password",modelValue:u(o).password,"onUpdate:modelValue":e[7]||(e[7]=t=>u(o).password=t)},null,8,["type","modelValue"])]),n("div",null,[i(re,{value:"Confirm Password"}),i(E,{type:y.value?"text":"password",modelValue:u(o).password_confirmation,"onUpdate:modelValue":e[8]||(e[8]=t=>u(o).password_confirmation=t)},null,8,["type","modelValue"])])]),n("div",Ht,[i(N,null,{default:T(()=>e[47]||(e[47]=[R("Continue")])),_:1,__:[47]})])],32)):te("",!0),p.value===2?(z(),j("form",{key:1,onSubmit:e[17]||(e[17]=oe(t=>p.value=3,["prevent"]))},[e[53]||(e[53]=n("h2",{class:"section-title"},"Senior High School Background",-1)),n("div",Yt,[i(E,{modelValue:u(o).school,"onUpdate:modelValue":e[10]||(e[10]=t=>u(o).school=t),placeholder:"School Name"},null,8,["modelValue"]),i(E,{modelValue:u(o).schoolAdd,"onUpdate:modelValue":e[11]||(e[11]=t=>u(o).schoolAdd=t),placeholder:"School Address"},null,8,["modelValue"]),i(E,{modelValue:u(o).schoolyear,"onUpdate:modelValue":e[12]||(e[12]=t=>u(o).schoolyear=t),placeholder:"School Year"},null,8,["modelValue"]),i(E,{type:"date",modelValue:u(o).dateGrad,"onUpdate:modelValue":e[13]||(e[13]=t=>u(o).dateGrad=t)},null,8,["modelValue"]),ve(n("select",{"onUpdate:modelValue":e[14]||(e[14]=t=>u(o).strand=t),class:"input-select"},e[49]||(e[49]=[n("option",{disabled:"",value:""},"Strand",-1),n("option",null,"STEM",-1),n("option",null,"HUMSS",-1),n("option",null,"TVL",-1)]),512),[[ge,u(o).strand]]),ve(n("select",{"onUpdate:modelValue":e[15]||(e[15]=t=>u(o).track=t),class:"input-select"},e[50]||(e[50]=[n("option",{disabled:"",value:""},"Track",-1),n("option",null,"ICT",-1),n("option",null,"Cookery",-1)]),512),[[ge,u(o).track]])]),n("div",Kt,[i(N,{onClick:e[16]||(e[16]=t=>p.value=1)},{default:T(()=>e[51]||(e[51]=[R("Back")])),_:1,__:[51]}),i(N,null,{default:T(()=>e[52]||(e[52]=[R("Continue")])),_:1,__:[52]})])],32)):te("",!0),p.value===3?(z(),j("form",{key:2,onSubmit:oe(H,["prevent"])},[e[58]||(e[58]=n("h2",{class:"section-title"},"Grade 10 Report Card",-1)),n("div",Jt,[n("div",Zt,[e[54]||(e[54]=n("p",{class:"upload-title"},"Front Page (Name & LRN)",-1)),n("input",{type:"file",accept:"image/*",onChange:ne},null,32),n("div",Xt,[i(E,{placeholder:"Extracted Name",modelValue:k.value.name,"onUpdate:modelValue":e[18]||(e[18]=t=>k.value.name=t)},null,8,["modelValue"]),i(E,{placeholder:"Extracted LRN",modelValue:k.value.lrn,"onUpdate:modelValue":e[19]||(e[19]=t=>k.value.lrn=t)},null,8,["modelValue"])])]),n("div",Qt,[e[55]||(e[55]=n("p",{class:"upload-title"},"Back Page (Grades)",-1)),n("input",{type:"file",accept:"image/*",required:"",onChange:de},null,32)])]),n("div",er,[i(N,{onClick:e[20]||(e[20]=t=>p.value=2)},{default:T(()=>e[56]||(e[56]=[R("Back")])),_:1,__:[56]}),i(N,{disabled:O.value},{default:T(()=>e[57]||(e[57]=[R("Extract Grades")])),_:1,__:[57]},8,["disabled"])])],32)):te("",!0),p.value===4?(z(),j("form",{key:3,onSubmit:e[25]||(e[25]=oe(t=>p.value=5,["prevent"]))},[e[61]||(e[61]=n("h2",{class:"section-title"},"Review Grade 10 Grades",-1)),n("div",tr,[i(E,{modelValue:u(o).english,"onUpdate:modelValue":e[21]||(e[21]=t=>u(o).english=t),placeholder:"English"},null,8,["modelValue"]),i(E,{modelValue:u(o).mathematics,"onUpdate:modelValue":e[22]||(e[22]=t=>u(o).mathematics=t),placeholder:"Mathematics"},null,8,["modelValue"]),i(E,{modelValue:u(o).science,"onUpdate:modelValue":e[23]||(e[23]=t=>u(o).science=t),placeholder:"Science"},null,8,["modelValue"])]),n("div",rr,[i(N,{onClick:e[24]||(e[24]=t=>p.value=3)},{default:T(()=>e[59]||(e[59]=[R("Back")])),_:1,__:[59]}),i(N,null,{default:T(()=>e[60]||(e[60]=[R("Continue")])),_:1,__:[60]})])],32)):te("",!0),p.value===5?(z(),j("form",{key:4,onSubmit:oe(B,["prevent"])},[e[66]||(e[66]=n("h2",{class:"section-title"},"Grade 11 Report Card",-1)),n("div",nr,[n("div",or,[e[62]||(e[62]=n("p",{class:"upload-title"},"Front Page",-1)),n("input",{type:"file",accept:"image/*",onChange:ae},null,32),i(E,{class:"mt-2",placeholder:"Name",modelValue:A.value.name,"onUpdate:modelValue":e[26]||(e[26]=t=>A.value.name=t)},null,8,["modelValue"]),i(E,{placeholder:"LRN",modelValue:A.value.lrn,"onUpdate:modelValue":e[27]||(e[27]=t=>A.value.lrn=t)},null,8,["modelValue"])]),n("div",ar,[e[63]||(e[63]=n("p",{class:"upload-title"},"Back Page",-1)),n("input",{type:"file",accept:"image/*",required:"",onChange:P},null,32)])]),n("div",lr,[i(N,{onClick:e[28]||(e[28]=t=>p.value=4)},{default:T(()=>e[64]||(e[64]=[R("Back")])),_:1,__:[64]}),i(N,{disabled:O.value},{default:T(()=>e[65]||(e[65]=[R("Extract Grades")])),_:1,__:[65]},8,["disabled"])])],32)):te("",!0),p.value===6?(z(),j("form",{key:5,onSubmit:e[32]||(e[32]=oe(t=>p.value=7,["prevent"]))},[e[69]||(e[69]=n("h2",{class:"section-title"},"Review Grade 11 Grades",-1)),n("div",ir,[i(E,{modelValue:u(o).firstSem,"onUpdate:modelValue":e[29]||(e[29]=t=>u(o).firstSem=t),placeholder:"First Semester Average"},null,8,["modelValue"]),i(E,{modelValue:u(o).secondSem,"onUpdate:modelValue":e[30]||(e[30]=t=>u(o).secondSem=t),placeholder:"Second Semester Average"},null,8,["modelValue"])]),n("div",sr,[i(N,{onClick:e[31]||(e[31]=t=>p.value=5)},{default:T(()=>e[67]||(e[67]=[R("Back")])),_:1,__:[67]}),i(N,null,{default:T(()=>e[68]||(e[68]=[R("Continue")])),_:1,__:[68]})])],32)):te("",!0),p.value===7?(z(),j("form",{key:6,onSubmit:oe(ie,["prevent"])},[e[74]||(e[74]=n("h2",{class:"section-title"},"Grade 12 Report Card",-1)),n("div",ur,[n("div",dr,[e[70]||(e[70]=n("p",{class:"upload-title"},"Front Page",-1)),n("input",{type:"file",accept:"image/*",onChange:X},null,32),i(E,{class:"mt-2",placeholder:"Name",modelValue:$.value.name,"onUpdate:modelValue":e[33]||(e[33]=t=>$.value.name=t)},null,8,["modelValue"]),i(E,{placeholder:"LRN",modelValue:$.value.lrn,"onUpdate:modelValue":e[34]||(e[34]=t=>$.value.lrn=t)},null,8,["modelValue"])]),n("div",fr,[e[71]||(e[71]=n("p",{class:"upload-title"},"Back Page",-1)),n("input",{type:"file",accept:"image/*",required:"",onChange:F},null,32)])]),n("div",cr,[i(N,{onClick:e[35]||(e[35]=t=>p.value=6)},{default:T(()=>e[72]||(e[72]=[R("Back")])),_:1,__:[72]}),i(N,{disabled:O.value},{default:T(()=>e[73]||(e[73]=[R("Extract Grades")])),_:1,__:[73]},8,["disabled"])])],32)):te("",!0),p.value===8?(z(),j("form",{key:7,onSubmit:e[39]||(e[39]=oe(t=>p.value=9,["prevent"]))},[e[77]||(e[77]=n("h2",{class:"section-title"},"Review Grade 12 Grades",-1)),n("div",mr,[i(E,{modelValue:u(o).g12firstSem,"onUpdate:modelValue":e[36]||(e[36]=t=>u(o).g12firstSem=t),placeholder:"First Semester"},null,8,["modelValue"]),i(E,{modelValue:u(o).g12secondSem,"onUpdate:modelValue":e[37]||(e[37]=t=>u(o).g12secondSem=t),placeholder:"Second Semester"},null,8,["modelValue"])]),n("div",pr,[i(N,{onClick:e[38]||(e[38]=t=>p.value=7)},{default:T(()=>e[75]||(e[75]=[R("Back")])),_:1,__:[75]}),i(N,null,{default:T(()=>e[76]||(e[76]=[R("Continue")])),_:1,__:[76]})])],32)):te("",!0),p.value===9?(z(),j("form",{key:8,onSubmit:e[41]||(e[41]=oe(t=>p.value=10,["prevent"]))},[e[80]||(e[80]=n("h2",{class:"section-title"},"Admission Requirements",-1)),n("div",vr,[(z(!0),j(pe,null,_e(w.value,(t,r)=>(z(),j("div",{key:r,class:"upload-card"},[n("p",gr,J(r.replace(/([A-Z])/g," $1")),1),n("input",{type:"file",onChange:f=>G(f,r)},null,40,hr)]))),128))]),n("div",yr,[i(N,{onClick:e[40]||(e[40]=t=>p.value=8)},{default:T(()=>e[78]||(e[78]=[R("Back")])),_:1,__:[78]}),i(N,null,{default:T(()=>e[79]||(e[79]=[R("Review Submission")])),_:1,__:[79]})])],32)):te("",!0),p.value===10?(z(),j("div",wr,[e[88]||(e[88]=n("h2",{class:"text-xl font-bold text-white text-center"}," Final Confirmation ",-1)),n("div",Sr,[n("p",null,[e[81]||(e[81]=n("strong",null,"Name:",-1)),R(" "+J(u(o).firstname)+" "+J(u(o).lastname),1)]),n("p",null,[e[82]||(e[82]=n("strong",null,"Email:",-1)),R(" "+J(u(o).email),1)]),n("p",null,[e[83]||(e[83]=n("strong",null,"G10 English:",-1)),R(" "+J(u(o).english),1)]),n("p",null,[e[84]||(e[84]=n("strong",null,"G11:",-1)),R(" "+J(u(o).firstSem)+" / "+J(u(o).secondSem),1)]),n("p",null,[e[85]||(e[85]=n("strong",null,"G12:",-1)),R(" "+J(u(o).g12firstSem)+" / "+J(u(o).g12secondSem),1)])]),n("div",br,[i(N,{onClick:e[42]||(e[42]=t=>p.value=9)},{default:T(()=>e[86]||(e[86]=[R("Back")])),_:1,__:[86]}),i(N,{onClick:ue},{default:T(()=>e[87]||(e[87]=[R("Submit Application")])),_:1,__:[87]})])])):te("",!0)])])]),_:1})],64))}};export{Cr as default};
