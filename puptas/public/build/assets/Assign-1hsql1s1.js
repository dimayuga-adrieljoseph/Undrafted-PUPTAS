import{T as U,r as q,p as A,c as V,o as n,w as x,a as e,d as r,e as C,u as o,F as g,g as b,t as a,l as M,h as u,f as i,m as y,v as c,b as E,k as N}from"./app-DfB9M8U9.js";import{_ as D}from"./AppLayout-CqBzu_JH.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Sidebar-CnNQZtMu.js";import"./index-4xUsyZUr.js";import"./useGlobalLoading-JbndNdYb.js";const F={class:"page-container"},I={class:"form-card"},j={key:0,class:"error-message"},B={class:"form-group"},R={class:"form-row"},T={class:"form-group half-width"},L={class:"form-group half-width"},$={class:"form-row"},z={class:"form-group half-width"},H={class:"form-group half-width"},O={class:"form-group"},W={class:"form-group"},G=["value"],J={style:{"text-align":"right","margin-top":"1.5rem"}},K=["disabled"],Q={class:"form-card"},X={key:0,style:{"text-align":"center",color:"#666"}},Y={key:1},Z={key:0},ee={key:1},te={class:"action-container"},se=["onClick"],le={class:"modal-content"},oe={class:"modal-buttons"},ne=["disabled"],re={__name:"Assign",props:{programs:Array,assignedUsers:Array},setup(p){const l=U({salutation:"",lastname:"",firstname:"",contactnumber:"",email:"",role:"",programs:[]}),f=q(!1),m=q(null),k=U({}),S=()=>{l.post(route("admin.users.store"),{preserveScroll:!0,onSuccess:()=>{l.reset()}})},_=d=>{m.value=d,f.value=!0},w=()=>{f.value=!1,m.value=null},h=()=>{m.value&&k.delete(route("admin.users.delete",m.value),{preserveScroll:!0,onSuccess:()=>{f.value=!1,m.value=null}})};return A(()=>{if(!document.querySelector('link[href*="font-awesome"]')){const d=document.createElement("link");d.rel="stylesheet",d.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css",document.head.appendChild(d)}}),(d,t)=>(n(),V(D,{title:"Create & Assign Users"},{default:x(()=>[e("div",F,[e("div",I,[t[18]||(t[18]=e("h1",null,"Create User & Assign Programs",-1)),o(l).errors&&Object.keys(o(l).errors).length>0?(n(),r("div",j,[e("ul",null,[(n(!0),r(g,null,b(o(l).errors,(s,v)=>(n(),r("li",{key:v},a(s),1))),128))])])):C("",!0),e("form",{onSubmit:M(S,["prevent"])},[e("div",B,[t[8]||(t[8]=e("label",{for:"salutation"},[i("Salutation "),e("span",{class:"required"},"*")],-1)),u(e("select",{id:"salutation","onUpdate:modelValue":t[0]||(t[0]=s=>o(l).salutation=s),required:""},t[7]||(t[7]=[e("option",{value:"",disabled:""},"Select Salutation",-1),e("option",{value:"Mr."},"Mr.",-1),e("option",{value:"Ms."},"Ms.",-1),e("option",{value:"Mrs."},"Mrs.",-1),e("option",{value:"Sr."},"Sr.",-1),e("option",{value:"Mx."},"Mx.",-1),e("option",{value:"Prof."},"Prof.",-1),e("option",{value:"Dr."},"Dr.",-1)]),512),[[y,o(l).salutation]])]),e("div",R,[e("div",T,[t[9]||(t[9]=e("label",{for:"lastname"},[i("Last Name "),e("span",{class:"required"},"*")],-1)),u(e("input",{type:"text",id:"lastname","onUpdate:modelValue":t[1]||(t[1]=s=>o(l).lastname=s),required:""},null,512),[[c,o(l).lastname]])]),e("div",L,[t[10]||(t[10]=e("label",{for:"firstname"},[i("First Name "),e("span",{class:"required"},"*")],-1)),u(e("input",{type:"text",id:"firstname","onUpdate:modelValue":t[2]||(t[2]=s=>o(l).firstname=s),required:""},null,512),[[c,o(l).firstname]])])]),e("div",$,[e("div",z,[t[11]||(t[11]=e("label",{for:"contactnumber"},[i("Phone "),e("span",{class:"required"},"*")],-1)),u(e("input",{type:"text",id:"contactnumber","onUpdate:modelValue":t[3]||(t[3]=s=>o(l).contactnumber=s),required:""},null,512),[[c,o(l).contactnumber]])]),e("div",H,[t[12]||(t[12]=e("label",{for:"email"},[i("Email "),e("span",{class:"required"},"*")],-1)),u(e("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=s=>o(l).email=s),required:""},null,512),[[c,o(l).email]])])]),e("div",O,[t[14]||(t[14]=e("label",{for:"role"},[i("Role "),e("span",{class:"required"},"*")],-1)),u(e("select",{id:"role","onUpdate:modelValue":t[5]||(t[5]=s=>o(l).role=s),required:""},t[13]||(t[13]=[e("option",{value:"",disabled:""},"Select Role",-1),e("option",{value:"3"},"Evaluator",-1),e("option",{value:"4"},"Interviewer",-1)]),512),[[y,o(l).role]])]),e("div",W,[t[15]||(t[15]=e("label",{for:"programs"},[i("Assign to Programs "),e("span",{class:"required"},"*")],-1)),t[16]||(t[16]=e("small",null,"Hold Ctrl (Windows) or Cmd (Mac) to select multiple programs",-1)),u(e("select",{id:"programs","onUpdate:modelValue":t[6]||(t[6]=s=>o(l).programs=s),multiple:"",required:"",size:"5"},[(n(!0),r(g,null,b(p.programs,s=>(n(),r("option",{key:s.id,value:s.id},a(s.name),9,G))),128))],512),[[y,o(l).programs]])]),e("div",J,[e("button",{type:"submit",class:"form-button",disabled:o(l).processing},t[17]||(t[17]=[e("i",{class:"fas fa-user-plus"},null,-1),i(" CREATE ")]),8,K)])],32)]),e("div",Q,[t[22]||(t[22]=e("h2",null,"Assigned Evaluators & Interviewers",-1)),!p.assignedUsers||p.assignedUsers.length===0?(n(),r("p",X," No evaluators or interviewers assigned yet. ")):(n(),r("table",Y,[t[21]||(t[21]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Role"),e("th",null,"Assigned Programs"),e("th",null,"Actions")])],-1)),e("tbody",null,[(n(!0),r(g,null,b(p.assignedUsers,s=>(n(),r("tr",{key:s.id},[e("td",null,a(s.salutation)+" "+a(s.firstname)+" "+a(s.lastname),1),e("td",null,a(s.email),1),e("td",null,a(s.role_id==3?"Evaluator":"Interviewer"),1),e("td",null,[!s.programs||s.programs.length===0?(n(),r("span",Z,"Not assigned")):(n(),r("span",ee,a(s.programs.map(v=>v.name).join(", ")),1))]),e("td",null,[e("div",te,[E(o(N),{href:d.route("admin.users.edit",s.id),class:"action-button edit-button"},{default:x(()=>t[19]||(t[19]=[e("i",{class:"fas fa-edit"},null,-1),e("span",{class:"tooltiptext"},"Edit",-1)])),_:2,__:[19]},1032,["href"]),e("button",{onClick:v=>_(s.id),class:"action-button delete-button"},t[20]||(t[20]=[e("i",{class:"fas fa-trash-alt"},null,-1),e("span",{class:"tooltiptext"},"Delete",-1)]),8,se)])])]))),128))])]))]),f.value?(n(),r("div",{key:0,class:"modal",onClick:M(w,["self"])},[e("div",le,[t[23]||(t[23]=e("p",null,"Are you sure you want to delete this user?",-1)),e("div",oe,[e("button",{onClick:w,class:"cancel-button"},"Cancel"),e("button",{onClick:h,class:"delete-button",disabled:o(k).processing},"Delete",8,ne)])])])):C("",!0)])]),_:1}))}},fe=P(re,[["__scopeId","data-v-d4df8da0"]]);export{fe as default};
