import{T as q,i as V,p as N,c as h,o as n,w as v,a as s,b as _,d,e as C,u as o,k as y,f as i,F as g,g as w,t as c,l as E,h as l,v as m,m as x,G as M}from"./app-BMHqDqk-.js";import{_ as S}from"./AppLayout-pF509T1r.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Sidebar-DKWTbHSH.js";import"./index-CzAWaHTX.js";import"./useGlobalLoading-DQXpkgxt.js";const B={class:"form-container"},F={class:"form-card"},P={key:0,class:"error-message"},T={class:"form-row"},A={class:"form-group half-width"},O={class:"form-group half-width"},$={class:"form-group"},z={class:"form-row"},D={class:"form-group half-width"},G={class:"form-group half-width"},L={class:"form-input-group"},R={class:"form-row"},Z={class:"form-group half-width"},H={class:"form-group half-width"},I={class:"form-group"},J=["value"],K={class:"form-group"},Q=["required"],W=["value"],X={class:"button-container"},Y=["disabled"],ee={__name:"EditUser",props:{user:Object,programs:Array,roles:Object},setup(f){const a=f,r=q({firstname:a.user.firstname||"",lastname:a.user.lastname||"",middlename:a.user.middlename||"",extension_name:a.user.extension_name||"",email:a.user.email||"",contactnumber:a.user.contactnumber||"",password:"",password_confirmation:"",role_id:a.user.role_id||"",program:a.user.programs&&a.user.programs.length>0?a.user.programs[0].id:""}),b=V(()=>r.role_id==1),U=()=>{b.value||(r.program="")},k=()=>{r.post(route("users.update",a.user.id),{preserveScroll:!0})};return N(()=>{if(!document.querySelector('link[href*="font-awesome"]')){const u=document.createElement("link");u.rel="stylesheet",u.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css",document.head.appendChild(u)}}),(u,e)=>(n(),h(S,{title:"Edit User"},{default:v(()=>[s("div",B,[s("div",F,[_(o(y),{href:u.route("users.index"),class:"form-button cancel back-button"},{default:v(()=>e[9]||(e[9]=[s("i",{class:"fas fa-arrow-left"},null,-1),i(" Back ")])),_:1,__:[9]},8,["href"]),e[24]||(e[24]=s("h2",null,"Edit User",-1)),o(r).errors&&Object.keys(o(r).errors).length>0?(n(),d("div",P,[s("ul",null,[(n(!0),d(g,null,w(o(r).errors,(t,p)=>(n(),d("li",{key:p},c(t),1))),128))])])):C("",!0),s("form",{onSubmit:E(k,["prevent"])},[s("div",T,[s("div",A,[e[10]||(e[10]=s("label",{for:"firstname"},[i("First Name "),s("span",{class:"required"},"*")],-1)),l(s("input",{type:"text",id:"firstname","onUpdate:modelValue":e[0]||(e[0]=t=>o(r).firstname=t),required:""},null,512),[[m,o(r).firstname]])]),s("div",O,[e[11]||(e[11]=s("label",{for:"lastname"},[i("Last Name "),s("span",{class:"required"},"*")],-1)),l(s("input",{type:"text",id:"lastname","onUpdate:modelValue":e[1]||(e[1]=t=>o(r).lastname=t),required:""},null,512),[[m,o(r).lastname]])])]),s("div",$,[e[12]||(e[12]=s("label",{for:"middlename"},"Middle Name",-1)),l(s("input",{type:"text",id:"middlename","onUpdate:modelValue":e[2]||(e[2]=t=>o(r).middlename=t)},null,512),[[m,o(r).middlename]])]),s("div",z,[s("div",D,[e[13]||(e[13]=s("label",{for:"email"},[i("Email "),s("span",{class:"required"},"*")],-1)),l(s("input",{type:"email",id:"email","onUpdate:modelValue":e[3]||(e[3]=t=>o(r).email=t),required:"",pattern:"[a-z0-9._%+\\-]+@gmail\\.com$",title:"Must be a valid Gmail address like example@gmail.com"},null,512),[[m,o(r).email]])]),s("div",G,[e[15]||(e[15]=s("label",{for:"contactnumber"},[i("Contact Number "),s("span",{class:"required"},"*")],-1)),s("div",L,[e[14]||(e[14]=s("div",{class:"input-prefix"},"+63",-1)),l(s("input",{type:"text",id:"contactnumber","onUpdate:modelValue":e[4]||(e[4]=t=>o(r).contactnumber=t),required:"",maxlength:"10",pattern:"\\d{10}",title:"Must be exactly 10 digits"},null,512),[[m,o(r).contactnumber]])])])]),s("div",R,[s("div",Z,[e[16]||(e[16]=s("label",{for:"password"},"New Password",-1)),l(s("input",{type:"password",id:"password","onUpdate:modelValue":e[5]||(e[5]=t=>o(r).password=t),pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*?&.]).{8,}"},null,512),[[m,o(r).password]]),e[17]||(e[17]=s("small",null," At least 8 characters, 1 uppercase, 1 lowercase, 1 number, 1 special character ",-1))]),s("div",H,[e[18]||(e[18]=s("label",{for:"password_confirmation"},"Confirm Password",-1)),l(s("input",{type:"password",id:"password_confirmation","onUpdate:modelValue":e[6]||(e[6]=t=>o(r).password_confirmation=t)},null,512),[[m,o(r).password_confirmation]])])]),s("div",I,[e[19]||(e[19]=s("label",{for:"role_id"},[i("User Type "),s("span",{class:"required"},"*")],-1)),l(s("select",{id:"role_id","onUpdate:modelValue":e[7]||(e[7]=t=>o(r).role_id=t),onChange:U,required:""},[(n(!0),d(g,null,w(f.roles,(t,p)=>(n(),d("option",{key:p,value:p},c(t),9,J))),128))],544),[[x,o(r).role_id]])]),l(s("div",K,[e[21]||(e[21]=s("label",{for:"program"},[i("Program "),s("span",{class:"required"},"*")],-1)),l(s("select",{id:"program","onUpdate:modelValue":e[8]||(e[8]=t=>o(r).program=t),required:b.value},[e[20]||(e[20]=s("option",{value:"",disabled:""},"---- Select Program ----",-1)),(n(!0),d(g,null,w(f.programs,t=>(n(),d("option",{key:t.id,value:t.id},c(t.name),9,W))),128))],8,Q),[[x,o(r).program]])],512),[[M,b.value]]),s("div",X,[_(o(y),{href:u.route("users.index"),class:"form-button cancel"},{default:v(()=>e[22]||(e[22]=[s("i",{class:"fas fa-times"},null,-1),i(" Cancel ")])),_:1,__:[22]},8,["href"]),s("button",{type:"submit",class:"form-button",disabled:o(r).processing},e[23]||(e[23]=[s("i",{class:"fas fa-save"},null,-1),i(" Update User ")]),8,Y)])],32)])])]),_:1}))}},ie=j(ee,[["__scopeId","data-v-8f28fa90"]]);export{ie as default};
