import{r as p,i as f,d,o as n,b as i,u as g,Z as j,w as u,a as t,F as m,g as w,c as A,A as U,t as r,k as M,f as N,n as S,q as F,e as P}from"./app-BMHqDqk-.js";import{L as V}from"./index-nwCTK57j.js";import{_ as $}from"./AppLayout-pF509T1r.js";import{C as I,L as O,a as R,b as T,c as z,P as q,p as Q,d as Z,e as G}from"./chart-B9tDx7Vv.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Sidebar-DKWTbHSH.js";import"./index-CzAWaHTX.js";import"./useGlobalLoading-DQXpkgxt.js";const J={class:"grid grid-cols-2 sm:grid-cols-4 gap-6 px-4 md:px-8"},K={class:"flex items-center mb-4"},W={class:"p-3 bg-[#9E122C] rounded-full text-white mr-3 flex items-center justify-center"},X={class:"text-gray-700 dark:text-gray-200 font-medium"},Y={class:"text-3xl font-bold text-gray-900 dark:text-white"},tt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8 px-4 md:px-8"},et={class:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow border border-red-300"},at={class:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow border border-red-300 overflow-x-auto"},rt={class:"flex justify-between items-center mb-4"},st={class:"min-w-full text-sm divide-y divide-gray-200 dark:divide-gray-700"},ot={class:"divide-y divide-gray-200 dark:divide-gray-700"},lt=["onClick"],nt={class:"px-4 py-2 text-gray-800 dark:text-gray-100"},dt={class:"px-4 py-2 text-gray-800 dark:text-gray-100"},it={class:"px-4 py-2 text-gray-600 dark:text-gray-300"},ct={class:"px-4 py-2"},pt={key:0,class:"fixed top-0 right-0 w-full md:w-1/3 h-full bg-white dark:bg-gray-900 p-6 z-50 shadow-xl overflow-y-auto"},gt={class:"space-y-2"},ut={class:"text-gray-800 dark:text-gray-200 font-medium"},mt={class:"text-gray-700 dark:text-gray-400"},xt={class:"text-gray-700 dark:text-gray-400"},ht={__name:"Dashboard",props:{allUsers:Array,summary:{type:Object,default:()=>({total:0,accepted:0,pending:0,returned:0})},chartData:{type:Object,default:()=>({submitted:[],accepted:[],returned:[],years:[]})}},setup(_){I.register(O,R,T,z,q,Q,Z,G);const s=_,x=p(s.allUsers||[]),o=p(null),h=p(""),k=[{label:"Total Applications",value:s.summary.total,icon:{template:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7h18M3 12h18M3 17h18" /></svg>'}},{label:"Accepted",value:s.summary.accepted,icon:{template:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>'}},{label:"Pending",value:s.summary.pending,icon:{template:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3" /></svg>'}},{label:"Returned",value:s.summary.returned,icon:{template:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>'}}],C=f(()=>({labels:s.chartData.years||[],datasets:[{label:"Submitted",data:s.chartData.submitted,borderColor:"#2563EB",backgroundColor:"rgba(37, 99, 235, 0.2)",tension:.4},{label:"Accepted",data:s.chartData.accepted,borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.2)",tension:.4},{label:"Returned",data:s.chartData.returned,borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.2)",tension:.4}]})),B=l=>{const e=(l||"").toLowerCase();return e==="accepted"?"bg-green-100 text-green-700":e==="pending"?"bg-yellow-100 text-yellow-700":e==="returned"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"},L=f(()=>h.value.trim()?x.value.filter(l=>`${l.firstname} ${l.lastname}`.toLowerCase().includes(h.value.toLowerCase())):x.value.slice(0,4)),E=l=>{o.value=l},D=()=>{o.value=null};return(l,e)=>(n(),d(m,null,[i(g(j),{title:"Dashboard"}),i($,null,{default:u(()=>[t("div",J,[(n(),d(m,null,w(k,(a,c)=>t("div",{key:c,class:"bg-white dark:bg-gray-800 border-l-4 border-[#9E122C] rounded-xl p-6 shadow hover:shadow-lg transition transform hover:-translate-y-1 cursor-pointer"},[t("div",K,[t("div",W,[(n(),A(U(a.icon),{class:"w-6 h-6"}))]),t("p",X,r(a.label),1)]),t("p",Y,r(a.value),1)])),64))]),t("div",tt,[t("div",et,[e[0]||(e[0]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Applications Overview ",-1)),i(g(V),{"chart-data":C.value,class:"h-60 w-full"},null,8,["chart-data"])]),t("div",at,[t("div",rt,[e[2]||(e[2]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Recent Applications",-1)),i(g(M),{href:"/applications",class:"text-sm text-[#9E122C] hover:underline hover:text-[#b51834] transition"},{default:u(()=>e[1]||(e[1]=[N(" See all ")])),_:1,__:[1]})]),t("table",st,[e[3]||(e[3]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-gray-500 dark:text-gray-200"},"Last Name"),t("th",{class:"px-4 py-2 text-left text-gray-500 dark:text-gray-200"},"First Name"),t("th",{class:"px-4 py-2 text-left text-gray-500 dark:text-gray-200"},"Course"),t("th",{class:"px-4 py-2 text-left text-gray-500 dark:text-gray-200"},"Status")])],-1)),t("tbody",ot,[(n(!0),d(m,null,w(L.value,a=>{var c,y,b,v;return n(),d("tr",{key:a.id,onClick:yt=>E(a),class:"cursor-pointer hover:bg-[#FBCB77]/40 dark:hover:bg-gray-700 transition"},[t("td",nt,r(a.lastname),1),t("td",dt,r(a.firstname),1),t("td",it,r(((y=(c=a.application)==null?void 0:c.program)==null?void 0:y.code)||"—"),1),t("td",ct,[t("span",{class:S([B((b=a.application)==null?void 0:b.status),"px-2 py-1 rounded text-xs font-semibold"])},r(((v=a.application)==null?void 0:v.status)||"Unknown"),3)])],8,lt)}),128))])])])]),i(F,{name:"slide-fade"},{default:u(()=>[o.value?(n(),d("div",pt,[t("button",{class:"mt-6 px-4 py-2 rounded bg-[#9E122C] text-white hover:bg-[#EE6A43] transition",onClick:D}," Close "),e[4]||(e[4]=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"User Information",-1)),t("div",gt,[t("p",ut,"Name: "+r(o.value.lastname)+", "+r(o.value.firstname),1),t("p",mt,"Email: "+r(o.value.email),1),t("p",xt,"Phone: "+r(o.value.phone||"—"),1)])])):P("",!0)]),_:1})]),_:1})],64))}},Lt=H(ht,[["__scopeId","data-v-d9bbddf3"]]);export{Lt as default};
