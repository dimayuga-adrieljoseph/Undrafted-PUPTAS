import{p as E,T as N,r as q,i as V,d as n,o as r,b,u as o,Z as D,w as h,a as e,e as y,F as v,g as k,t as a,l as M,h as d,f as u,m as w,v as c,k as _,N as P}from"./app-B9ioD5Tj.js";import{_ as T}from"./AppLayout-CQBCTOBL.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Sidebar-Dz9939gr.js";import"./index-BP1wD6F3.js";import"./useGlobalLoading-D_ggrvgV.js";const R={class:"container"},j={class:"form-card"},F={key:0,class:"error-message"},$={key:1,class:"success-snackbar show"},B={class:"form-group"},L={class:"form-row"},z={class:"form-group half-width"},G={class:"form-group half-width"},H={class:"form-row"},O={class:"form-group half-width"},W={class:"form-group half-width"},Z={class:"form-group"},J={class:"form-group"},K=["value"],Q={style:{"text-align":"right","margin-top":"1.5rem"}},X=["disabled"],Y={class:"form-card"},ee={key:0,style:{"text-align":"center",color:"#666"}},te={key:1},se={key:0},le={key:1},oe={class:"action-container"},ne=["onClick"],re={__name:"Assign",props:{programs:Array,assignedUsers:Array},setup(g){E(()=>{if(!document.querySelector('link[href*="font-awesome"]')){const i=document.createElement("link");i.rel="stylesheet",i.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css",document.head.appendChild(i)}});const l=N({salutation:"",lastname:"",firstname:"",contactnumber:"",email:"",role:"",programs:[]}),m=q(!1),p=q(null),S=V(()=>Object.keys(l.errors).length>0),x=()=>{l.post(route("admin.users.store"),{preserveScroll:!0,onSuccess:()=>{l.reset()}})},A=i=>{p.value=i,m.value=!0},C=()=>{m.value=!1,p.value=null},U=()=>{P.delete(route("admin.users.delete",p.value),{preserveScroll:!0,onSuccess:()=>{m.value=!1,p.value=null}})};return(i,t)=>(r(),n(v,null,[b(o(D),{title:"Create & Assign Users"}),b(T,null,{default:h(()=>[e("div",R,[e("div",j,[t[19]||(t[19]=e("h1",null,"Create User & Assign Programs",-1)),S.value?(r(),n("div",F,[e("ul",null,[(r(!0),n(v,null,k(o(l).errors,(s,f)=>(r(),n("li",{key:f},a(s),1))),128))])])):y("",!0),i.$page.props.flash.success?(r(),n("div",$,a(i.$page.props.flash.success),1)):y("",!0),e("form",{onSubmit:M(x,["prevent"])},[e("div",B,[t[9]||(t[9]=e("label",{for:"salutation"},[u("Salutation "),e("span",{class:"required"},"*")],-1)),d(e("select",{id:"salutation","onUpdate:modelValue":t[0]||(t[0]=s=>o(l).salutation=s),required:""},t[8]||(t[8]=[e("option",{value:"",disabled:"",selected:""},"Select Salutation",-1),e("option",{value:"Mr."},"Mr.",-1),e("option",{value:"Ms."},"Ms.",-1),e("option",{value:"Mrs."},"Mrs.",-1),e("option",{value:"Sr."},"Sr.",-1),e("option",{value:"Mx."},"Mx.",-1),e("option",{value:"Prof."},"Prof.",-1),e("option",{value:"Dr."},"Dr.",-1)]),512),[[w,o(l).salutation]])]),e("div",L,[e("div",z,[t[10]||(t[10]=e("label",{for:"lastname"},[u("Last Name "),e("span",{class:"required"},"*")],-1)),d(e("input",{type:"text",id:"lastname","onUpdate:modelValue":t[1]||(t[1]=s=>o(l).lastname=s),required:""},null,512),[[c,o(l).lastname]])]),e("div",G,[t[11]||(t[11]=e("label",{for:"firstname"},[u("First Name "),e("span",{class:"required"},"*")],-1)),d(e("input",{type:"text",id:"firstname","onUpdate:modelValue":t[2]||(t[2]=s=>o(l).firstname=s),required:""},null,512),[[c,o(l).firstname]])])]),e("div",H,[e("div",O,[t[12]||(t[12]=e("label",{for:"contactnumber"},[u("Phone "),e("span",{class:"required"},"*")],-1)),d(e("input",{type:"text",id:"contactnumber","onUpdate:modelValue":t[3]||(t[3]=s=>o(l).contactnumber=s),required:""},null,512),[[c,o(l).contactnumber]])]),e("div",W,[t[13]||(t[13]=e("label",{for:"email"},[u("Email "),e("span",{class:"required"},"*")],-1)),d(e("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=s=>o(l).email=s),required:""},null,512),[[c,o(l).email]])])]),e("div",Z,[t[15]||(t[15]=e("label",{for:"role"},[u("Role "),e("span",{class:"required"},"*")],-1)),d(e("select",{id:"role","onUpdate:modelValue":t[5]||(t[5]=s=>o(l).role=s),required:""},t[14]||(t[14]=[e("option",{value:"",disabled:""},"Select Role",-1),e("option",{value:"3"},"Evaluator",-1),e("option",{value:"4"},"Interviewer",-1)]),512),[[w,o(l).role]])]),e("div",J,[t[16]||(t[16]=e("label",{for:"programs"},[u("Assign to Programs "),e("span",{class:"required"},"*")],-1)),t[17]||(t[17]=e("small",null,"Hold Ctrl (Windows) or Cmd (Mac) to select multiple programs",-1)),d(e("select",{id:"programs","onUpdate:modelValue":t[6]||(t[6]=s=>o(l).programs=s),multiple:"",required:"",size:"5"},[(r(!0),n(v,null,k(g.programs,s=>(r(),n("option",{key:s.id,value:s.id},a(s.name),9,K))),128))],512),[[w,o(l).programs]])]),e("div",Q,[e("button",{type:"submit",class:"form-button",disabled:o(l).processing},[t[18]||(t[18]=e("i",{class:"fas fa-user-plus"},null,-1)),u(" "+a(o(l).processing?"CREATING...":"CREATE"),1)],8,X)])],32)]),e("div",Y,[t[23]||(t[23]=e("h2",null,"Assigned Evaluators & Interviewers",-1)),g.assignedUsers.length===0?(r(),n("p",ee," No evaluators or interviewers assigned yet. ")):(r(),n("table",te,[t[22]||(t[22]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Role"),e("th",null,"Assigned Programs"),e("th",null,"Actions")])],-1)),e("tbody",null,[(r(!0),n(v,null,k(g.assignedUsers,s=>(r(),n("tr",{key:s.id},[e("td",null,a(s.salutation)+" "+a(s.firstname)+" "+a(s.lastname),1),e("td",null,a(s.email),1),e("td",null,a(s.role_id==3?"Evaluator":"Interviewer"),1),e("td",null,[s.programs.length===0?(r(),n("span",se,"Not assigned")):(r(),n("span",le,a(s.programs.map(f=>f.name).join(", ")),1))]),e("td",null,[e("div",oe,[b(o(_),{href:i.route("admin.users.edit",s.id),class:"action-button edit-button"},{default:h(()=>t[20]||(t[20]=[e("i",{class:"fas fa-edit"},null,-1),e("span",{class:"tooltiptext"},"Edit",-1)])),_:2,__:[20]},1032,["href"]),e("button",{onClick:f=>A(s.id),class:"action-button delete-button"},t[21]||(t[21]=[e("i",{class:"fas fa-trash-alt"},null,-1),e("span",{class:"tooltiptext"},"Delete",-1)]),8,ne)])])]))),128))])]))])]),m.value?(r(),n("div",{key:0,class:"modal",onClick:C},[e("div",{class:"modal-content",onClick:t[7]||(t[7]=M(()=>{},["stop"]))},[t[24]||(t[24]=e("p",null,"Are you sure you want to delete this user?",-1)),e("div",{class:"modal-buttons"},[e("button",{onClick:C,class:"cancel-button"},"Cancel"),e("button",{onClick:U,class:"delete-button"},"Delete")])])])):y("",!0)]),_:1})],64))}},fe=I(re,[["__scopeId","data-v-d98d3297"]]);export{fe as default};
