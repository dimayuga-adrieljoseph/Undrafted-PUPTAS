import{r as d,k as B,j as b,l as F,d as c,o as v,b as h,u as M,Z as P,w as A,a as t,h as V,v as z,e as y,t as l,F as j,g as D,n as q,m as R}from"./app-Db2MWlaG.js";import{A as I}from"./AppLayout-WDgmIuId.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DhTmyBLd.js";const X={class:"max-w-7xl mx-auto py-2 px-2 sm:px-4 md:px-6 lg:px-8 overflow-x-hidden overflow-y-auto"},H={class:"flex flex-col md:flex-row justify-between md:items-center mb-2 gap-2"},K={class:"flex flex-wrap justify-end gap-2 items-center w-full md:w-auto"},Q={class:"flex items-center border-4 border-red-400 rounded-full px-2 py-1.5 bg-white w-full sm:w-auto"},W={class:"relative"},Z={key:0,class:"absolute top-full mt-2 right-0 bg-white shadow-md border border-gray-200 rounded z-50 text-sm"},G={xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},J=["d"],O={class:"bg-white/20 rounded-xl shadow p-2 overflow-x-auto"},Y={class:"text-sm text-[#4B5563] mb-2"},tt={class:"min-w-full text-base"},et={class:"text-left text-white font-semibold"},st={class:"divide-y divide-gray-600"},ot=["onClick"],lt={class:"py-2 text-[#111827] font-medium"},at={class:"py-2 text-white"},rt={class:"py-2"},nt={class:"flex justify-end items-center space-x-4 mt-4"},it=["disabled"],ut={class:"text-sm"},dt=["disabled"],ct={key:0,class:"text-center text-gray-400 mt-4"},vt={key:0,class:"fixed top-0 right-0 w-full md:w-1/3 h-full bg-white dark:bg-gray-900 p-6 z-50 shadow-xl shadow-red-200 transition duration-300 ease-in-out overflow-y-auto"},pt={class:"text-gray-800 dark:text-gray-200 font-medium"},xt={class:"text-gray-700 dark:text-gray-400"},mt={class:"text-gray-700 dark:text-gray-400"},ft={class:"text-gray-700 dark:text-gray-400"},gt={class:"text-gray-700 dark:text-gray-400"},k=10,wt={__name:"Applications",setup(bt){const C=d([]),x=d(""),n=d(""),a=d(null),i=d(1),p=d("lastname"),r=d(!0),u=d(!1);B(async()=>{try{const o=await fetch("/dashboard/users",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Failed to fetch users");C.value=await o.json()}catch(o){console.error(o)}});const g=b(()=>{const o=x.value.trim().toLowerCase();return C.value.filter(e=>{var E;const m=`${e.firstname} ${e.lastname}`.toLowerCase().includes(o),f=n.value?((E=e.status)==null?void 0:E.toLowerCase())===n.value:!0;return m&&f}).sort((e,s)=>{const m=(e[p.value]||"").toString().toLowerCase(),f=(s[p.value]||"").toString().toLowerCase();return r.value?m.localeCompare(f):f.localeCompare(m)})}),_=b(()=>Math.ceil(g.value.length/k)),w=b(()=>{const o=(i.value-1)*k;return g.value.slice(o,o+k)});F([x,n,p,r],()=>{i.value=1});const $=o=>{const e=(o||"").toLowerCase();return e==="accepted"?"bg-green-100 text-green-700":e==="pending"?"bg-yellow-100 text-yellow-700":e==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"},L=o=>{a.value=o},S=()=>{a.value=null},U=o=>{p.value===o?r.value=!r.value:(p.value=o,r.value=!0)},N=()=>{x.value="",n.value="",p.value="lastname",r.value=!0,i.value=1,u.value=!1};return(o,e)=>(v(),c(j,null,[h(M(P),{title:"All Applications"}),h(I,null,{default:A(()=>[t("div",X,[t("div",H,[e[12]||(e[12]=t("h2",{class:"text-2xl font-bold text-[#9E122C]"},"All Applications",-1)),t("div",K,[t("div",Q,[e[10]||(e[10]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-[#9E122C] mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),V(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>x.value=s),type:"text",placeholder:"Search by name...",class:"bg-transparent border-none outline-none focus:ring-0 focus:outline-none text-sm text-[#9E122C] placeholder-gray-500 w-full"},null,512),[[z,x.value]])]),t("button",{onClick:N,class:"text-sm text-[#9E122C] border border-[#9E122C] rounded px-3 py-1.5 hover:bg-[#FDE8EA] transition"}," Clear Filters "),t("div",W,[t("button",{onClick:e[1]||(e[1]=s=>u.value=!u.value),class:"text-[#9E122C] p-2 border border-[#9E122C] rounded-full",title:"Filter"},e[11]||(e[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707L15 12.414V19a1 1 0 01-1.447.894l-4-2A1 1 0 019 17v-4.586L3.293 6.707A1 1 0 013 6V4z"})],-1)])),u.value?(v(),c("div",Z,[t("button",{class:"block px-4 py-2 w-full text-left hover:bg-gray-100",onClick:e[2]||(e[2]=s=>{n.value="",u.value=!1})},"All"),t("button",{class:"block px-4 py-2 w-full text-left hover:bg-gray-100",onClick:e[3]||(e[3]=s=>{n.value="accepted",u.value=!1})},"Accepted"),t("button",{class:"block px-4 py-2 w-full text-left hover:bg-gray-100",onClick:e[4]||(e[4]=s=>{n.value="pending",u.value=!1})},"Pending"),t("button",{class:"block px-4 py-2 w-full text-left hover:bg-gray-100",onClick:e[5]||(e[5]=s=>{n.value="rejected",u.value=!1})},"Rejected")])):y("",!0)]),t("button",{onClick:e[6]||(e[6]=s=>r.value=!r.value),class:"text-[#9E122C] p-2 border border-[#9E122C] rounded-full",title:"Sort"},[(v(),c("svg",G,[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:r.value?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"},null,8,J)]))])])]),t("div",O,[t("div",Y," Showing "+l(w.value.length)+" of "+l(g.value.length)+" users ",1),t("table",tt,[t("thead",null,[t("tr",et,[t("th",{class:"pb-2 cursor-pointer",onClick:e[7]||(e[7]=s=>U("lastname"))},"Name"),e[13]||(e[13]=t("th",{class:"pb-2"},"Course",-1)),e[14]||(e[14]=t("th",{class:"pb-2"},"Status",-1))])]),t("tbody",st,[(v(!0),c(j,null,D(w.value,s=>(v(),c("tr",{key:s.id,onClick:m=>L(s),class:"cursor-pointer hover:bg-white/10 backdrop-blur-sm transition"},[t("td",lt,l(s.firstname)+" "+l(s.lastname),1),t("td",at,l(s.course||"—"),1),t("td",rt,[t("span",{class:q([$(s.status),"px-2 py-1 rounded text-sm font-semibold"])},l(s.status||"Unknown"),3)])],8,ot))),128))])]),t("div",nt,[t("button",{onClick:e[8]||(e[8]=s=>i.value--),disabled:i.value===1,class:"text-sm text-[#9E122C] disabled:text-gray-900"}," Previous ",8,it),t("span",ut,"Page "+l(i.value)+" of "+l(_.value),1),t("button",{onClick:e[9]||(e[9]=s=>i.value++),disabled:i.value===_.value,class:"text-sm text-[#9E122C] disabled:text-gray-900"}," Next ",8,dt)]),w.value.length===0?(v(),c("p",ct,"No results found.")):y("",!0)])]),h(R,{name:"slide-fade"},{default:A(()=>{var s;return[a.value?(v(),c("div",vt,[e[15]||(e[15]=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"},"User Information",-1)),t("p",pt,"Name: "+l(a.value.firstname)+" "+l(a.value.lastname),1),t("p",xt,"Email: "+l(a.value.email),1),t("p",mt,"Username: "+l(a.value.username),1),t("p",ft,"Phone: "+l(a.value.phone),1),t("p",gt,"Company: "+l(((s=a.value.company)==null?void 0:s.name)||"—"),1),t("button",{class:"mt-6 px-4 py-2 rounded bg-[#9E122C] text-white hover:bg-[#EE6A43] transition",onClick:S}," Close ")])):y("",!0)]}),_:1})]),_:1})],64))}},Et=T(wt,[["__scopeId","data-v-7ac034c9"]]);export{Et as default};
